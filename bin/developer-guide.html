<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">


<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var a=window;var b="start";function d(f){this.t={};this.tick=function(g,h,c){c=c?c:(new Date).getTime();this.t[g]=[c,h]};this.tick(b,null,f)}var e=new d;a.jstiming={Timer:d,load:e};try{var i=null;if(a.chrome&&a.chrome.csi)i=Math.floor(a.chrome.csi().pageT);if(i==null)if(a.gtbExternal)i=a.gtbExternal.pageT();if(i==null)if(a.external)i=a.external.pageT;if(i)a.jstiming.pt=i}catch(j){}; })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="http://www.google.com/images/icons/product/sites-16.ico">
<link rel="apple-touch-icon" href="http://www.gstatic.com/sites/p/2fa342/system/app/images/apple-touch-icon.png" type="image/png">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e=parseInt,h=window,i="length";function j(c){return document.getElementById(c)}h.byId=j;var k="";function l(c){return c.replace(/^\s+|\s+$/g,k)}h.trim=l;
var m="MSIE",n="6.0",o="string",p='id="',q='" ',r='class="',s='title="',t="display:inline-block;",u="left",v="float:left;",w="right",x="float:right;",y="cursor:hand;",z="<span ",A=' style="width:',B="px; height:",C="px;",D=";padding: 0;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",E="', sizingMethod='scale');\"></span><span style=\"padding: ",F=" ",G=";",H="float:",I='"></span>';
h.ie6ImgFix=function(c){var b=h.navigator?navigator.userAgent:k;if(b.indexOf(m)!=-1&&typeof opera=="undefined"){var d=/MSIE\s+([^\);]+)(\)|;)/;d.test(b);b=RegExp.$1;if(b==n){var a=typeof c==o?j(c):c;c=a.id?p+a.id+q:k;b=a.className?r+a.className+q:k;d=a.title?s+a.title+q:s+a.alt+q;var f=t+a.style.cssText;if(a.align==u)f=v+f;if(a.align==w)f=x+f;if(a.parentElement.href)f=y+f;var g=a.currentStyle,L=a.width-e(g.paddingLeft,10)-e(g.paddingRight,10),M=a.height-e(g.paddingTop,10)-e(g.paddingBottom,10),N=
z+c+b+d+A+L+B+M+C+f+D+a.src+E+g.paddingTop+F+g.paddingRight+F+g.paddingBottom+F+g.paddingLeft+G+(g.styleFloat?H+g.styleFloat+G:k)+I;h.setTimeout(function(){a.outerHTML=N},1)}}};var J=[],K=0;h.JOT_addListener=function(c,b,d){var a=new String(K++);c={eventName:c,handler:b,compId:d,key:a};J.push(c);return a};h.JOT_removeListenerByKey=function(c){for(var b=0;b<J[i];b++)if(J[b].key==c){J.splice(b,1);break}};
h.JOT_removeAllListenersForName=function(c){for(var b=0;b<J[i];b++)J[b].eventName==c&&J.splice(b,1)};var O="function";h.JOT_postEvent=function(c,b,d){var a={eventName:c,eventSrc:b||{},payload:d||{}};if(h.JOT_fullyLoaded){b=J[i];for(d=0;d<b&&d<J[i];d++){var f=J[d];if(f&&f.eventName==c){a.listenerCompId=f.compId||k;(f=typeof f.handler==O?f.handler:h[f.handler])&&f(a)}}}else h.JOT_delayedEvents.push({eventName:c,eventSrc:b,payload:d})};h.JOT_delayedEvents=[];h.JOT_fullyLoaded=false;var P="__duration__";
h.JOT_formatRelativeToNow=function(c,b){var d=((new Date).getTime()-c)/6E4;if(d>=1440||d<0)return null;var a=0;if(d>=60){d/=60;a=2}d>=2&&a++;return b?h.JOT_siteRelTimeStrs[a].replace(P,Math.floor(d)):h.JOT_userRelTimeStrs[a].replace(P,Math.floor(d))}; })()
</script>
<script>


var webspace = {"pageSharingId":"jotspot_page","isConsumer":false,"termsUrl":"http://www.google.com/sites/help/intl/en/terms_apps.html","enableAnalytics":true,"canPublishScriptToAnyone":true,"homePath":"/","sharingId":"jotspot","sharingPolicy":"OPENED_WITH_INDICATOR","isAdsenseEnabled":true,"analyticsAccountId":"UA-5484340-1","baseUri":"","name":"dev","domain":"chromium.org","features":{"structuredDataGviz":false,"horizontalNavigationDropdownMenus":true,"subpageNav":false,"kixEditorPageType":false,"maestroIntegration":true,"maestroEmbed":false,"pdfEmbedSupport":false,"experimental":{"displayEditorLockExceptions":false,"commonSharingExperiment":false},"useStandardEmbedsInSidebar":false,"allowQuotesInLinks":true,"pageLevelPermissions":false,"adminInfo":true,"autoFillSidebarNavTree":true,"dragDropHierarchy":true,"headerAlignmentOptions":true,"horizontalNavigationBar":true,"keyboardShortcuts":true,"commonSharing":true,"spreadsheetsEmbedLoadRedirect":true,"structuredDataSchemas":false,"webfonts":false,"footerCustomOptions":true},"adsensePublisherId":null,"isStartPageEnabled":true,"domainAnalyticsAccountId":"","siteTitle":"The Chromium Projects"};


webspace.gadgets = {"isGadgetDirectoryEnabled":true,"baseUri":"/system/app/pages/gadgets","isGgsRenderingEnabled":true};


webspace.user = {"uid":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"userName":"guest","dasherUser":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:27255a11f3a32ed5","timeZone":"America/New_York","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:83df2ab1f8880ba","revision":229,"title":"Chromium OS Developer Guide","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en","name":"developer-guide","path":"/chromium-os/developer-guide","isSiteRtlLocale":false,"parentPath":"/chromium-os"};


var editorResources = [
  'http://www.gstatic.com/sites/p/2fa342/system/js/trog_edit__en.js',
  'http://www.gstatic.com/sites/p/2fa342/system/app/css/trogedit.css',
  '/_/rsrc/1294959796000/system/app/css/editor.css'
];

var JOT_clearDotPath = 'http://www.gstatic.com/sites/p/2fa342/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};





var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="Description" content="Home of the Chromium Open Source Project">
<link rel="stylesheet" type="text/css" href="developer-guide_files/standard-css-beigeandblue-ltr-ltr.css">
<link rel="stylesheet" type="text/css" href="developer-guide_files/overlay.css">
<title>Chromium OS Developer Guide - The Chromium Projects</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
<script src="developer-guide_files/ga.js"></script></head><body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en">
<div id="sites-page-toolbar">
<div id="sites-status" class="sites-status" style="display: none;">
<div id="sites-notice" class="sites-notice"> </div>
</div>
</div>
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr;">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
<tbody><tr class="sites-header-primary-row">
<td id="sites-header-title">
<div class="sites-header-cell-buffer-wrapper">
<a href="http://dev.chromium.org/">
<img src="developer-guide_files/customLogo.png" id="logo-img-id" onload="ie6ImgFix('logo-img-id');" alt="Logo" class="sites-logo">
</a>
<h2>
<a href="http://dev.chromium.org/" dir="ltr">The Chromium Projects</a>
</h2>
</div>
</td>
<td class="sites-layout-searchbox">
<div class="sites-header-cell-buffer-wrapper">
<div>
<form id="sites-searchbox-form" action="/system/app/pages/search">
<input onpropertychange="JOT_setTextDir(this)" oninput="JOT_setTextDir(this)" dir="" id="jot-ui-searchInput" name="q" size="20" type="text">
<input id="sites-searchbox-scope" name="scope" value="search-site" type="hidden">
<div class="goog-inline-block goog-button goog-button-base   "><div class="goog-inline-block goog-button-base-outer-box TOP"><div class="goog-inline-block goog-button-base-inner-box"><div class="goog-button-base-pos"><div class="goog-button-base-top-shadow">&nbsp;</div><div id="sites-searchbox-search-button" class="goog-button-base-content " style="" onclick=""><span id="sites-searchbox-search-button-label">Search this site</span></div></div></div></div></div>
</form>
</div>
</div>
</td>
</tr>
<tr class="sites-header-secondary-row">
<td colspan="2">
</td>
</tr>
</tbody></table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0">
<tbody><tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_7648876402527094" class="sites-embed">
<div class="sites-embed-content sites-sidebar-nav ">
<ul jotid="navList">
<li class="nav-first"><div dir="ltr" style="padding-left: 5px;"><a href="http://dev.chromium.org/chromium-projects" jotid="wuid:gx:10ae433dadbbab13" class="sites-navigation-link">Home</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://dev.chromium.org/Home" jotid="wuid:gx:43582b9d2029d3af" class="sites-navigation-link">Chromium</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://dev.chromium.org/chromium-os" jotid="wuid:gx:83df2ab1f8880ba" class="sites-navigation-link">Chromium OS</a>
</div></li>
</ul>

</div>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_14720868319272995" class="sites-embed">
<h4 class="sites-embed-title">Quick links</h4>
<div class="sites-embed-content sites-sidebar-nav ">
<ul jotid="navList">
<li class="nav-first"><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/for-testers/bug-reporting-guidelines" class="sites-navigation-link">Report bugs</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://www.chromium.org/developers/discussion-groups" class="sites-navigation-link">Discuss</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://dev.chromium.org/system/app/pages/sitemap/hierarchy" jotid="wuid:gx:6023df18b80f9b89" class="sites-navigation-link">Sitemap</a>
</div></li>
</ul>

</div>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19690813310444355" class="sites-embed">
<h4 class="sites-embed-title">Other sites</h4>
<div class="sites-embed-content sites-sidebar-nav ">
<ul jotid="navList">
<li class="nav-first"><div dir="ltr" style="padding-left: 5px;"><a href="http://blog.chromium.org/" class="sites-navigation-link">Chromium Blog</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/extensions/" class="sites-navigation-link">Google Chrome Extensions</a>
</div></li>
<li class=""><div dir="ltr" style="padding-left: 5px;"><a href="http://code.google.com/chrome/chromeframe" class="sites-navigation-link">Google Chrome Frame</a>
</div></li>
</ul>

</div>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_19695218559354544" class="sites-embed" style="">
<h4 class="sites-embed-title"></h4>
<div class="sites-embed-content" style="padding: 5px;">
<div dir="ltr"><span style="font-size: x-small;">Except as otherwise </span><a href="http://code.google.com/policies.html#restrictions"><span style="font-size: x-small;">noted</span></a><span style="font-size: x-small;">, the content of this page is licensed under a </span><a href="http://creativecommons.org/licenses/by/2.5/" rel="nofollow"><span style="font-size: x-small;">Creative Commons Attribution 2.5 license</span></a><span style="font-size: x-small;">, and examples are licensed under the </span><a href="http://code.google.com/chromium/terms.html"><span style="font-size: x-small;">BSD License</span></a><span style="font-size: x-small;">.</span><div><span style="font-size: x-small;"><br></span></div><div><span style="font-size: x-small;">The Chromium OS designs and code are preliminary. Expect them to evolve.</span></div></div>
</div>
</div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<a dir="ltr" href="http://dev.chromium.org/chromium-os">Chromium OS</a>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">Chromium OS Developer Guide</span>
</h3>

<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" class="sites-layout-name-one-column sites-layout-hbox" cellspacing="0"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;"><div class="sites-embed-align-right-wrapping-on"><div class="sites-embed-border-off sites-embed" style="width: 400px;"><div class="sites-embed-content sites-embed-type-toc"><div class="goog-toc sites-embed-toc-maxdepth-2"><p>Contents</p><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Introduction"><strong>1 </strong>Introduction</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Target-audience"><strong>1.1 </strong>Target audience</a></li><li class="goog-toc"><a href="#TOC-Organization-content"><strong>1.2 </strong>Organization &amp; content</a></li><li class="goog-toc"><a href="#TOC-Typography-conventions"><strong>1.3 </strong>Typography conventions</a></li><li class="goog-toc"><a href="#TOC-Modifying-this-document"><strong>1.4 </strong>Modifying this document</a></li><li class="goog-toc"><a href="#TOC-Additional-information"><strong>1.5 </strong>Additional information</a></li></ol></li><li class="goog-toc"><a href="#TOC-Preliminary-requirements"><strong>2 </strong>Preliminary requirements</a></li><li class="goog-toc"><a href="#TOC-Getting-the-source-code"><strong>3 </strong>Getting the source code</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Install-depot_tools"><strong>3.1 </strong>Install depot_tools</a></li><li class="goog-toc"><a href="#TOC-Install-git"><strong>3.2 </strong>Install git</a></li><li class="goog-toc"><a href="#TOC-Configure-git"><strong>3.3 </strong>Configure git</a></li><li class="goog-toc"><a href="#TOC-Preparations-if-you-are-committer"><strong>3.4 </strong>Preparations if you are committer</a></li><li class="goog-toc"><a href="#TOC-Double-check-that-you-are-running-a"><strong>3.5 </strong>Double-check that you are running a 64-bit architecture</a></li><li class="goog-toc"><a href="#TOC-Run-"><strong>3.6 </strong>Run&nbsp;</a></li></ol></li><li class="goog-toc"><a href="#TOC-Decide-where-your-source-will-live"><strong>4 </strong>Decide where your source will live</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Before-you-get-the-source-code-you-"><strong>4.1 </strong>Before you get the source code, you must decide whether you want to the "minilayout" or the "full layout:"</a></li><li class="goog-toc"><a href="#TOC-Get-the-source"><strong>4.2 </strong>Get the source</a></li></ol></li><li class="goog-toc"><a href="#TOC-Building-Chromium-OS"><strong>5 </strong>Building Chromium OS</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Create-a-chroot"><strong>5.1 </strong>Create a chroot</a></li><li class="goog-toc"><a href="#TOC-Enter-the-chroot"><strong>5.2 </strong>Enter the chroot</a></li><li class="goog-toc"><a href="#TOC-Choose-what-board-you-want-to-build"><strong>5.3 </strong>Choose what board you want to build for</a></li><li class="goog-toc"><a href="#TOC-Initialize-the-build-for-a-board"><strong>5.4 </strong>Initialize the build for a board</a></li><li class="goog-toc"><a href="#TOC-Set-the-chronos-user-password"><strong>5.5 </strong>Set the chronos user password</a></li><li class="goog-toc"><a href="#TOC-Build-the-packages-for-your-board"><strong>5.6 </strong>Build the packages for your board</a></li><li class="goog-toc"><a href="#TOC-Build-a-disk-image-for-your-board"><strong>5.7 </strong>Build a disk image for your board</a></li><li class="goog-toc"><a href="#TOC-Look-at-your-disk-image-optional-"><strong>5.8 </strong>Look at your disk image (optional)</a></li></ol></li><li class="goog-toc"><a href="#TOC-Running-your-image"><strong>6 </strong>Running your image</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Getting-your-image-running-on-a-com"><strong>6.1 </strong>Getting your image running on a computer without verified boot</a></li><li class="goog-toc"><a href="#TOC-Getting-your-image-running-on-a-Chr"><strong>6.2 </strong>Getting your image running on a Chrome OS Notebook</a></li><li class="goog-toc"><a href="#TOC-Getting-to-a-command-prompt-on-Chro"><strong>6.3 </strong>Getting to a command prompt on Chromium OS</a></li><li class="goog-toc"><a href="#TOC-Installing-your-Chromium-OS-image-t"><strong>6.4 </strong>Installing your Chromium OS image to your hard disk</a></li><li class="goog-toc"><a href="#TOC-Building-an-image-to-run-in-a-virtu"><strong>6.5 </strong>Building an image to run in a virtual machine</a></li></ol></li><li class="goog-toc"><a href="#TOC-Making-changes-to-packages-whose-so"><strong>7 </strong>Making changes to packages whose source is checked into the Chromium OS source control system</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Keep-the-tree-green"><strong>7.1 </strong>Keep the tree green</a></li><li class="goog-toc"><a href="#TOC-Run-cros_workon-start"><strong>7.2 </strong>Run cros_workon start</a></li><li class="goog-toc"><a href="#TOC-Run-repo-sync"><strong>7.3 </strong>Run repo sync</a></li><li class="goog-toc"><a href="#TOC-Figure-out-where-the-ebuild-source-"><strong>7.4 </strong>Figure out where the ebuild / source code for the project is located</a></li><li class="goog-toc"><a href="#TOC-Create-a-branch-for-your-changes"><strong>7.5 </strong>Create a branch for your changes</a></li><li class="goog-toc"><a href="#TOC-Make-your-changes"><strong>7.6 </strong>Make your changes</a></li><li class="goog-toc"><a href="#TOC-Set-your-editor"><strong>7.7 </strong>Set your editor</a></li><li class="goog-toc"><a href="#TOC-Submit-changes-locally"><strong>7.8 </strong>Submit changes locally</a></li><li class="goog-toc"><a href="#TOC-Committers-only-Upload-your-changes"><strong>7.9 </strong>(Committers only) Upload your changes and get a code review</a></li><li class="goog-toc"><a href="#TOC-Try-seeing-the-mainline-again"><strong>7.10 </strong>Try seeing the mainline again</a></li><li class="goog-toc"><a href="#TOC-Work-on-something-else-while-you-re"><strong>7.11 </strong>Work on something else while you're waiting</a></li><li class="goog-toc"><a href="#TOC-Push-your-changes"><strong>7.12 </strong>Push your changes</a></li><li class="goog-toc"><a href="#TOC-Make-sure-your-changes-didn-t-break"><strong>7.13 </strong>Make sure your changes didn't break things</a></li><li class="goog-toc"><a href="#TOC-Non-committers-Submit-your-changes"><strong>7.14 </strong>(Non-committers) Submit your changes</a></li><li class="goog-toc"><a href="#TOC-Clean-up-after-you-re-done-with-you"><strong>7.15 </strong>Clean up after you're done with your changes</a></li></ol></li><li class="goog-toc"><a href="#TOC-Making-other-types-of-changes"><strong>8 </strong>Making other types of changes</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Making-changes-to-the-way-that-the-"><strong>8.1 </strong>Making changes to the way that the chroot is constructed</a></li><li class="goog-toc"><a href="#TOC-Building-an-individual-package"><strong>8.2 </strong>Building an individual package</a></li><li class="goog-toc"><a href="#TOC-Making-changes-to-the-Chromium-web-"><strong>8.3 </strong>Making changes to the Chromium web browser on Chromium OS</a></li></ol></li><li class="goog-toc"><a href="#TOC-Troubleshooting"><strong>9 </strong>Troubleshooting</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-My-build-is-failing-what-s-the-prob"><strong>9.1 </strong>My build is failing, what's the problem?</a></li><li class="goog-toc"><a href="#TOC-How-do-I-fix-network-problems-in-th"><strong>9.2 </strong>How do I fix network problems in the chroot?</a></li></ol></li><li class="goog-toc"><a href="#TOC-Running-Tests"><strong>10 </strong>Running Tests</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Getting-an-image-that-has-been-modi"><strong>10.1 </strong>Getting an image that has been modified for test</a></li><li class="goog-toc"><a href="#TOC-Getting-an-image-that-has-been-modi"><strong>10.2 </strong>Creating a recovery image that has been modified for test</a></li><li class="goog-toc"><a href="#TOC-Creating-a-new-test"><strong>10.3 </strong>Creating a new test</a></li><li class="goog-toc"><a href="#TOC-Seeing-which-tests-are-implemented-"><strong>10.4 </strong>Seeing which tests are implemented by an ebuild</a></li><li class="goog-toc"><a href="#TOC-Additional-testing-information"><strong>10.5 </strong>Additional testing information</a></li></ol></li><li class="goog-toc"><a href="#TOC-Additional-information1"><strong>11 </strong>Additional information</a><ol class="goog-toc"><li class="goog-toc"><a href="#TOC-Developer-mode"><strong>11.1 </strong>Developer mode</a></li><li class="goog-toc"><a href="#TOC-Attribution-requirements"><strong>11.2 </strong>Attribution requirements</a></li><li class="goog-toc"><a href="#TOC-Documentation-on-this-site"><strong>11.3 </strong>Documentation on this site</a></li><li class="goog-toc"><a href="#TOC-External-documentation"><strong>11.4 </strong>External documentation</a></li></ol></li></ol></div></div></div></div>
<a name="TOC-Intro"></a>
<h2><a name="TOC-Introduction"></a>Introduction</h2>
<div>This guide describes how to develop Chromium OS. If you're looking 
for information about how to get started working on Chromium OS, you're 
in the right place.<br>
</div>
<a name="TOC-Audience-of-this-document"></a>
<h3 style="margin-top: 1.5em;"><a name="TOC-Target-audience"></a>Target audience</h3>
<div>
The target audience of this guide is anyone who wants to obtain, build, 
or contribute to Chromium OS. That includes new developers who are 
interested in the project 
and who simply want to browse through the Chromium OS code, as well as 
developers who have been 
working on Chromium OS for a long time.
</div>
<h3 style="margin-top: 1.5em;"><a name="TOC-Organization-content"></a>Organization &amp; content</h3>
<div>This guide describes the common tasks required to develop Chromium 
OS. The guide is organized linearly, so that developers who are new to 
Chromium OS can follow the tasks in sequence. The tasks are grouped into
 the following sections:</div>
<ul>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Preliminary-requirements">Preliminary requirements</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Getting-the-source-code">Getting the source code</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Building-Chromium-OS">Building Chromium OS</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Running-your-image">Running your image</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Making-changes-to-packages-whose-so">Making changes to packages whose source is checked into the Chromium OS source control system</a><br>
</li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Making-other-types-of-changes">Making other types of changes</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Troubleshooting">Troubleshooting</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Running-Tests">Running tests</a></li>
<li style="margin-top: 0.2em;"><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Additional-information1">Additional information</a></li></ul>
<h3 style="margin-top: 1.5em;"><a name="TOC-Typography-conventions"></a>Typography conventions</h3>
<ul>
<li style="margin-top: 0.2em;"><b>Paths, files, and commands</b> are 
shown in different colors to indicate whether they apply to 
(1)&nbsp;your build computer (the computer on which you're doing 
development), (2)&nbsp;the chroot on your build computer, or 
(3)&nbsp;your Chromium OS computer (the device on which you run the 
images you build):</li>
<table style="border-collapse: collapse; border: 1px solid rgb(0, 0, 0); margin: 1em auto 0.75em;" border="1" cellpadding="3" cellspacing="0">
<tbody>
<tr>
<th style="text-align: center; background-color: rgb(204, 204, 204);">Color</th>
<th style="text-align: center; background-color: rgb(204, 204, 204);">Paths, files, and commands:<br>
</th>
</tr>
<tr>
<td style="padding: 2px 5px;"><span style="font-family: courier new,monospace; color: rgb(56, 118, 29);">green text</span></td>
<td style="padding: 2px 5px;">on your build computer</td>
</tr>
<tr>
<td style="padding: 2px 5px;"><span style="font-family: courier new,monospace; color: rgb(153, 0, 255);">purple text</span></td>
<td style="padding: 2px 5px;">inside the chroot on your build computer</td>
</tr>
<tr>
<td style="padding: 2px 5px;"><span style="font-family: courier new,monospace; color: rgb(153, 0, 0);">crimson text</span></td>
<td style="padding: 2px 5px;">on your Chromium OS computer</td>
</tr>
</tbody>
</table>
<li style="margin-top: 0.2em;"><b>Notes</b> are shown using the following conventions:
<ul>
<li style="margin-top: 0.2em;"><b style="color: rgb(230, 145, 56);">IMPORTANT NOTE</b> denotes required actions and critical information<br>
</li>
<li style="margin-top: 0.2em;"><b>SIDE NOTE</b> denotes explanations, related information, and alternative options<br>
</li>
<li style="margin-top: 0.2em;"><b style="color: rgb(255, 0, 0);">TODO</b> denotes questions or work that is needed on this document
</li>
</ul>
</li>
</ul>
<h3 style="margin-top: 1.5em;"><a name="TOC-Modifying-this-document"></a>Modifying this document</h3>
<div>
Only people with @chromium.org accounts can change the page. Everyone else should post to the<span>&nbsp;</span><a href="http://groups.google.com/a/chromium.org/group/chromium-os-dev" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Chromium OS dev group</a>.
</div>
<div style="margin-top: 1.5em;">If you're a Chromium OS developer, <b>YOU SHOULD UPDATE THIS DOCUMENT</b> and fix things as appropriate:</div>
<ul>
<li style="margin-top: 0.3em;">If you see a <font color="#ff0000">red TODO</font> and you know the right answer, fix it!</li>
<li style="margin-top: 0.3em;">If something looks wrong but you don't know the right answer, at least put in a <font color="#ff0000">red TODO</font> saying that the information looks wrong.</li></ul>
<div style="margin-top: 1.5em;">Please try to abide by the following guidelines when you modify this document:</div>
<ul>
<li style="margin-top: 0.3em;">Put all general "getting started" information directly on this page. It's OK if this document grows big.</li>
<li style="margin-top: 0.3em;">If some information is also relevant for 
other documents, put the information in this document and add links from
 the other documents to this document. If you do not have a choice and 
must put information relevant to getting started in other documents, add
 links in this document to discrete chunks of information in the other 
documents. Following a web of links can be very confusing, especially 
for people who are new to a project, so it's very important to maintain a
 linear flow as much as possible.<br>
</li>
<li style="margin-top: 0.3em;">Where possible, describe a single way of 
doing things. If you specify multiple options, provide a clear 
explanation why someone following the instructions would pick one option
 over the others. If there is disagreement about how to do things, 
consider listing alternative options in a SIDE NOTE.</li>
<li style="margin-top: 0.3em;">Keep Google-specific references to a 
minimum. A large number of the people working on Chromium OS work at 
Google, and this document may occasionally contain references that are 
only relevant to engineers at Google. Google engineers, please keep such
 references to a minimum – Chromium OS is an open source project that 
should stay as open as possible.</li></ul>
<h3 style="margin-top: 1.5em;"><a name="TOC-Additional-information"></a>Additional information</h3>
<div>
This document provides a broad overview of the tasks required to develop
 Chromium OS. After you've learned the basics, check out the links in 
the <a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Additional-information1">additional information</a>
 section at the end of this document for important details (e.g., the 
Chromium OS directory structure, using the dev server, etc.), tips and 
tricks, and FAQs.<br>
<br>
Finally, if you build a Chromium OS image, please read this important note about <a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Attribution-requirements">attribution requirements</a>.<br>
<br>
<br>
</div>
<hr>
<hr width="100%" size="2">
<span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;">
<a name="TOC-Getting-started-with-Chromium-OS-de"></a>
<a name="TOC-Prerequisites"></a>
<h2><a name="TOC-Preliminary-requirements"></a>Preliminary requirements</h2>
<div>You must have Linux to develop Chromium OS. Specifically, the supported environment is:</div>
<div>
<ul>
<li><a href="http://www.ubuntu.com/" style="color: rgb(0, 102, 204);" rel="nofollow">Ubuntu</a><span>&nbsp;</span>Linux (version 10.04 - Lucid)</li>
<div style="margin: 0.3em 1em 1em;">Most developers working on Chromium 
OS are using Lucid (the LTS version of Ubuntu) and will not be updating 
to 10.10. It is possible that things will work if you're running a 
different Linux distribution, but you will probably find life easier if 
you're on Lucid. Please note that Ubuntu 9.10 (Karmic) is known not to 
work.</div>
<li>a 64-bit system for performing the build</li>
<div style="margin: 0.3em 1em 1em;">
32-bit systems may be supported down the road.
</div>
<li>an account with <code style="color: rgb(0, 96, 0);">sudo</code> access</li>
<div style="margin: 0.3em 1em 1em;">
You need root access to run the <code style="color: rgb(0, 96, 0);">chroot</code> command and to modify the mount table. <b>NOTE:</b>
 Do not run any of the commands listed in this document as root – the 
commands themselves will run sudo to get root access when needed.
</div>
</ul>
<div style="margin-top: 1.5em;">
You will have a much nicer time if you also have:
</div>
<ul>
<li>a fast multi-processor machine with lots of memory</li>
<div style="margin: 0.3em 1em 1em;">
The build system is optimized to make good use of all processors, and an
 8 core machine will build nearly 8x faster than a single core machine. 
If you are building the full Chromium OS including Chrome (the browser),
 your machine should have at least 4GB of RAM, and 8GB is better. If you
 only have 4GB of RAM make sure you have at least 4GB of swap. There 
have been reports of even getting by with 2GB of RAM on a Linux box not 
running a GUI.
</div>
<li>a good Internet connection</li>
<div style="margin: 0.3em 1em 1em;">
This will help for the initial download (minimum of about 2GB) and any further updates.
</div>
</ul>
<div style="margin-top: 1.5em;">
You must also install the following Ubuntu and Google packages to 
develop Chromium OS (installation instructions are provided below):
</div>
<ul><li style="margin-top: 0.3em;">git - source control client</li>
<li style="margin-top: 0.3em;">keychain - ssh key management (for committers)</li>
<li style="margin-top: 0.3em;">depot_tools - Google-maintained set of tools used by Chromium OS</li>
</ul>
<br>
<br>
<hr width="100%" size="2">
<hr width="100%" size="2">
<h2><a name="TOC-Getting-the-source-code"></a>Getting the source code</h2>
<br>
</div>
</span></span>
<hr>
<h3><a name="TOC-Install-depot_tools"></a>Install depot_tools</h3>
<div>To get started, follow the instructions at&nbsp;<a href="http://dev.chromium.org/developers/how-tos/install-depot-tools" style="color: rgb(0, 102, 204); outline-style: none;">install depot_tools</a>. This step is required so that you can use the <span style="font-family: courier new,monospace; color: rgb(56, 118, 29);">repo</span> command to get/sync the source code.</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Install-git"></a>Install git</h3>
<div>Install the git revision control system. On Ubuntu, the magic incantation to do this is:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">sudo aptitude install git-core gitk git-gui</code></div>
</div>
<div><br>
</div>
<div>This command also installs git's graphical front end (<code style="color: rgb(0, 96, 0);">git gui</code>) and revision history browser (<code style="color: rgb(0, 96, 0);">gitk</code>).</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Configure-git"></a>Configure git</h3>
<div>Setup git now. If you don't do this, you may run into errors/issues later. &nbsp;Replace<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">you@example.com</code><span>&nbsp;</span>and<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">Your Name</code><span>&nbsp;</span>with your information:</div>
<div><br>
</div>
<div><span style="font-family: arial,sans-serif; border-collapse: collapse;">
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div>
<div><code style="color: rgb(0, 96, 0);">git config --global user.email "you@example.com"</code></div>
<div><code style="color: rgb(0, 96, 0);">git config --global user.name "Your Name"</code></div>
</div>
</div>
<br>
</span></div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Preparations-if-you-are-committer"></a>Preparations if you are committer</h3>
<div><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;"><b style="color: rgb(230, 145, 56);">IMPORTANT NOTE</b>: </span></span>If you are new to Chromium OS, you are <b>NOT</b> a committer. Skip this step (go to "<a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Decide-where-your-source-will-live">decide where your source will live</a>"). Feel free to revisit this step if/when you<span>&nbsp;</span><a href="http://dev.chromium.org/getting-involved/become-a-committer" style="color: rgb(0, 102, 204); outline-style: none;">become a committer</a>.</div>
<div>
<h4><a name="TOC-Creating-your-ssh-key"></a>Create your ssh key</h4>
Committers access the git repositories through an<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">ssh</code><span>&nbsp;</span>connection, which means you need to setup an <span style="font-family: monospace; color: rgb(0, 96, 0);">ssh</span>&nbsp;key. Create a key using<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">ssh-keygen</code>. You will be asked for a password – please create one in order to protect your key. Don't worry, with the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">keychain</code>&nbsp;program (see below) you won't need to enter this password very often.<br>
<br>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">ssh-keygen -t rsa -f ~/.ssh/chromium</code></div>
</div>
<h4><a name="TOC-Submit-your-public-key-to-the-gitma"></a>Submit your public key to the gitmaster</h4>
<div>You must submit the public key that was generated (in&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">~/.ssh/chromium.pub</span>)
 to the Chromium OS gitmaster and wait until this key is accepted. 
Whoever approved you as a committer should have given you instructions 
on how to do this. They are purposely not listed here to avoid lots of 
spamming of the gitmaster.</div>
<h4><a name="TOC-Automate-usage-of-your-key-with-key"></a>Automate usage of your key with keychain</h4>
<div>You should protect your chromium ssh key with a password, but of 
course you don't want to type that password all the time.&nbsp; This is 
where the&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">keychain</span>&nbsp;command can help you. &nbsp;</div>
<div><br>
</div>
<div>On Ubuntu, install keychain with this command (assumes apt is configured with universe):<br>
<br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><font color="#006000" face="monospace">sudo aptitude install keychain</font></div>
</div>
</div>
<div><font color="#006000" face="monospace"><br>
</font></div>
<div>To use the keychain command, add this to the end of your<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">~/.bashrc</code><span>&nbsp;</span>file:<br>
<br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">eval `keychain --eval ~/.ssh/chromium`</code><br>
</div>
</div>
<div><code style="color: rgb(0, 96, 0);"><br>
</code></div>
<div>Run the above<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">keychain</code><span>&nbsp;</span>command now so that your current terminal will have access.</div>
<div><b><br>
</b></div>
<div><b>SIDE NOTES</b>:<br>
<ul><li style="margin-top: 0.5em;">The keychain command is really just a
 wrapper around ssh-agent. &nbsp;You could use ssh-agent directly, but 
the instructions for how to use ssh-agent are more complicated and thus 
don't belong here. If you're passionate about ssh-agent, feel free to 
make a sub-page about how to use ssh-agent instead of keychain.</li>
<li style="margin-top: 0.5em;">People wonder why these instructions tell
 you to password-protect your key, then turn around and tell you how to 
avoid entering the password. The thing to note is that keychain keeps 
the decrypted version of your ssh key only in RAM (hopefully in 
protected memory). RAM is more secure than disk storage, since someone 
who has physical access to your machine can access the disk without your
 password (by rebooting from a CD-based Linux distribution), but cannot 
access the RAM so easily.</li></ul>
</div>
</span></span><span style="text-indent: 0px;">
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<h4><a name="TOC-Setup-your-ssh-config"></a>Setup your ssh config</h4>
</div>
The last step in the preparations for committers is to make sure that you have the following bit of text in your<span style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</span><code style="color: rgb(0, 96, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">~/.ssh/config</code><span style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</span>file:
<div><br>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<code style="color: rgb(0, 96, 0);">
<span style="white-space: pre;">Host git.chromium.org gitrw.chromium.org<br>  HostName git.chromium.org<br>  Port 9222<br>  User git<br>  IdentityFile %d/.ssh/chromium<br>
  # The remaining lines are optimizations for faster sync times.  They
  # are not strictly necessary<br>
  # NOTE: You should _NOT_ have ControlMaster and ControlPath lines
  # here.  The repo tool handles setting up ControlMaster and
  # ControlPath and if you have something here it could potentially
  # conflict with repo's configuration.<br>
  # Turn off negotiations that don't make sense for sync connections
  GSSAPIAuthentication no
  GSSAPIKeyExchange no
  PasswordAuthentication no
  RSAAuthentication yes
  ForwardX11 no
  ForwardX11Trusted no
  ForwardAgent no
  HostbasedAuthentication no
  RhostsRSAAuthentication no
  Protocol 2<br>
  # Prefer faster ciphers and MACs.
  Ciphers arcfour256,aes128-ctr,aes192-ctr,aes256-ctr
  MACs umac-64@openssh.com,hmac-md5,hmac-sha1</span></code><br>
</div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b>SIDE NOTE</b>:
 The suggested config changed on 12/22/2010 to let ssh know that 
"git.chromium.org" and "gitrw.chromium.org" are the same. &nbsp;This is 
needed since "gitrw" is being deprecated.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<hr>
</div>
<h3><a name="TOC-Double-check-that-you-are-running-a"></a>Double-check that you are running a 64-bit architecture</h3><h3><a name="TOC-Run-"></a><font size="2"><span style="font-weight: normal;">Run&nbsp;</span></font></h3><div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"></div><div class="sites-codeblock sites-codesnippet-block" style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><div><code>uname -m</code></div><div></div></div><div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">You should see the result &nbsp;<code>x86_64</code></div><div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><code><br></code></div><div>If you see something else (for example, <code style="border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">i686,</code>
 which means you are on a 32-bit machine or a 64-bit machine running a 
32-bit OS) then you won't be able to build Chromium OS. &nbsp;The 
project would happily welcome patches to fix this.&nbsp;</div><div><hr></div><h2><a name="TOC-Decide-where-your-source-will-live"></a>Decide where your source will live</h2>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">Chromium OS developers commonly put their source code in <code style="color: rgb(0, 96, 0);">${HOME}/chromiumos</code>. If you feel strongly, put your own source elsewhere, but note that <b>all commands in this document assume that your source code is in</b> <code style="color: rgb(0, 96, 0);">${HOME}/chromiumos</code>.<br>
<br>
<span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;">
<div>Create the directory for your source code with this command:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">mkdir -p ${HOME}/chromiumos</code></div>
</div>
<div>
</div>
</span><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b><font color="#e69138">IMPORTANT NOTE</font></b>: If your home directory is on NFS (as is true for engineers at Google), you<span>&nbsp;</span><b>must</b>&nbsp;place
 your code somewhere else. Not only is it a bad idea to build directly 
from NFS for performance reasons, but builds won't actually work (builds
 use sudo, and root doesn't have access to your NFS mount, unless your 
NFS server has the no_root_squash option). Wherever you place your 
source, you can still add a symbolic link to it from your home directory
 (this is suggested), like so:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px; color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div><code style="color: rgb(0, 96, 0);">mkdir -p&nbsp;</code><span style="font-family: monospace; color: rgb(0, 96, 0);">/usr/local/<b>path/to/source</b>/chromiumos</span></div>
<div><code style="color: rgb(0, 96, 0);">ln -s&nbsp;/usr/local/<b>path/to/source</b>/chromiumos ${HOME}/chromiumos</code></div>
</div>
<br>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b>SIDE NOTE</b>: There were some suggestions about putting the source in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">${HOME}/trunk</code>&nbsp;(and the instructions suggested this for a while). &nbsp;Having the source in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">${HOME}/trunk</code><span>&nbsp;</span>allows
 you to have some sloppiness later (you can enter the same commands 
inside the build chroot and outside).&nbsp; Though this is convenient, 
it is dangerous because it might lead to you to submit a change to a 
build script that works on your machine, but that doesn't work on other 
machines (where the source code is not in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">${HOME}/trunk</code>).</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<hr><div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><span style="font-size: 18px; font-weight: bold;">Decide if you want the minilayout&nbsp;</span></div><h3><a name="TOC-Before-you-get-the-source-code-you-"></a><font size="2"><span style="font-weight: normal;">Before you get the source code, you must decide whether you want to the "minilayout" or the "full layout:"</span></font></h3><div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<ul><li>The <b>minilayout</b> starts you out with the minimum amount of source code (you can hand-pick additional source code later with<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">cros_workon</font></code>).</li>
<li>The <b>full layout</b> gets you all the Chromium OS-related source code on your hard disk.</li></ul>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">You should probably pick the <b>full layout</b> if:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<ul><li>You think you might want to<span>&nbsp;</span><a href="http://dev.chromium.org/tips-and-tricks-for-chromium-os-developers#TOC-How-to-search-the-code-quickly" style="color: rgb(0, 102, 204); outline-style: none;">grep through the source code</a><span>&nbsp;</span>to help you get oriented. &nbsp;</li>
<ul><li>Note: This is not as important as you think, since you can always use the<span>&nbsp;</span><a href="http://codesearch.google.com/codesearch/p?hl=en#wZuuyuB8jKQ/&amp;q=package:chromiumos&amp;d=0" style="color: rgb(0, 102, 204); outline-style: none;">Chromium OS code search</a><span>&nbsp;</span>to search the full code.</li></ul>
<li>You just like to have all of the source you can.</li>
<li>You've got lots of extra disk space.</li>
<li>You've got a fast network connection.</li>
<ul><li>Note: Not only will the first sync be<span>&nbsp;</span><b>very slow</b>, but even subsequent syncs will be slow.</li></ul></ul>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">You should probably pick the <b>minilayout</b> if:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<ul><li>You have a slow network connection or a small hard disk.</li>
<li>You will probably only work on a few packages.</li>
<li>You would prefer your syncs to be quick.</li>
<li>You don't mind waiting a little longer for the first sync when you start working on a package you haven't worked on before.</li></ul>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">Remember: Even if you choose the minilayout, you can still hand pick packages whose source code you want later by using&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">cros_workon</span>.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<hr>
</div>
<h3 style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><a name="TOC-Get-the-source"></a>Get the source</h3>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div>Chromium OS uses <a href="http://source.android.com/source/git-repo.html">repo</a> to sync down source code. <code style="color: rgb(0, 96, 0);">repo</code> is effectively a wrapper for the<span>&nbsp;</span><a href="http://git-scm.com/" style="color: rgb(0, 102, 204); outline-style: none;" rel="nofollow">git version control system</a>&nbsp;that helps deal with a large number of<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git</code><span>&nbsp;</span>repositories. You already installed<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo</code><span>&nbsp;</span>when you installed<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">depot_tools</code><span>&nbsp;</span>above.</div>
<div><br>
</div>
<div>There are 2 options for getting the source code, depending whether or not you want the minilayout (see above).</div>
<div><br>
</div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b>Option #1:</b> If you<span>&nbsp;</span>want the <b>minilayout</b>, enter the following commands:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div><br>
</div>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px; color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div>
<div><code style="color: rgb(0, 96, 0);">cd ${HOME}/chromiumos</code></div>
<div><code style="color: rgb(0, 96, 0);">repo init -u http://git.chromium.org/git/manifest</code><span style="font-family: monospace; color: rgb(0, 96, 0);">&nbsp;<b>-m minilayout.xml</b></span></div>
<div><code style="color: rgb(0, 96, 0);">repo sync</code></div>
</div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><span style="font-style: normal;"><b>Option #2:</b>&nbsp;</span>If you want&nbsp;the&nbsp;<b>full layout</b>, enter the following commands:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div><br>
</div>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px; color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div>
<div><code style="color: rgb(0, 96, 0);">cd ${HOME}/chromiumos</code></div>
<div><code style="color: rgb(0, 96, 0);">repo init -u http://git.chromium.org/git/manifest</code></div>
<div><code style="color: rgb(0, 96, 0);">repo sync</code></div>
</div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b>SIDE NOTES</b>:<br>
<ul><li style="margin-top: 0.5em;">If you want to build on a branch, pass the branch name to repo init (e.g: <code style="color: rgb(0, 96, 0);">repo init -u &lt;URL&gt; [-m minilayout.xml] <b>-b 0.9.94.T</b></code>).</li>
<li style="margin-top: 0.5em;">Previously, the instructions said to use "ssh" to access git if you were a committer. This is not necessary, as <code style="color: rgb(0, 96, 0);">git cl</code> is smart enough to push via ssh.</li>
</ul>
</div>
</div>

When you use<span style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</span><code style="color: rgb(0, 96, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">repo init</code><span style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> you will be asked </span>to confirm your name, email address, and whether you want color in your terminal. This command runs quickly. The<span style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">&nbsp;</span><code style="color: rgb(0, 96, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">repo sync</code><span style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"> command </span>takes
 a lot longer. Depending on your Internet speed, you might get a 
download rate of 200-400KB/s, but the rate will vary. For the minilayout
 the command will download around 2GB in around an hour or so.<br>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><font face="arial, sans-serif" size="2"><span style="line-height: 13px; white-space: pre;"><br>
<br>
</span></font></div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<hr width="100%" size="2">
<hr width="100%" size="2">
<h2><a name="TOC-Building-Chromium-OS"></a>Building Chromium OS</h2>
<br>
<hr>
<h3><a name="TOC-Create-a-chroot"></a>Create a chroot</h3>
<div>To make sure everyone uses the same exact tools and environment to build Chromium OS, all building is done inside a<span>&nbsp;</span><a href="http://en.wikipedia.org/wiki/Chroot" style="color: rgb(0, 102, 204); outline-style: none;" rel="nofollow">chroot</a>.
 &nbsp;This chroot is its own little world: it contains its own 
compiler, its own tools (its own copy of bash, it's own copy of sudo, 
etc.). Now that you've synced down the source code, you need to create 
this chroot. Assuming you're already in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">${HOME}/chromiumos</code><span>&nbsp;</span>(or wherever your source lives), the commands to setup the chroot are:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div>
<div><code style="color: rgb(0, 96, 0);">cd src/scripts</code></div>
<div><code style="color: rgb(0, 96, 0);">./make_chroot</code></div>
</div>
</div>
<div><br>
</div>
<div>This command takes about half an hour to run on a four core 
machine. It compiles quite a bit of software, which it installs into 
your chroot, and downloads some additional items (around 300MB). While 
it is building you will see a regular update of the number of packages 
left to build. Once the command finishes, the chroot will take up total 
disk space of a little over 3GB.</div>
<div><br>
</div>
<div>The chroot lives at&nbsp;<code style="color: rgb(0, 96, 0);">${HOME}/chromiumos/chroot</code>. Inside that directory you will find system directories like<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">/usr/bin</code><span>&nbsp;</span>and<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">/etc</code>.
 These are local to the chroot and are separate from the system 
directories on your machine. For example, the chroot has its own version
 of the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">ls</code><span>&nbsp;</span>utility. It will be very similar, but it is actually a different binary than the normal one you use on your machine.</div>
<div><b><br>
</b></div>
<div><b>SIDE NOTES:</b> <br>
<ul><li style="margin-top: 0.5em;">You shouldn't have to create the 
chroot very often. Most developers create it once and never touch it 
again unless someone explicitly sends out an email telling them to 
recreate their chroot. Recreating a chroot can be very disruptive to 
developers and doesn't happen very often.</li>
<li style="margin-top: 0.5em;">If you've already got a chroot when you run <span style="font-family: monospace; color: rgb(0, 96, 0);">make_chroot</span>,
 the command will attempt to "update" your existing chroot. This works 
reasonably well in most cases. However, if you really want to force a 
clean chroot to be built, pass the&nbsp;<code style="color: rgb(0, 96, 0);">--replace</code><span>&nbsp;</span>flag to&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">make_chroot</span>. This flag will delete any old chroot that might have been present, before re-creating a new one.</li>
<li style="margin-top: 0.5em;">The <span style="font-family: monospace; color: rgb(0, 96, 0);">make_chroot</span> command currently doesn't work behind a proxy server, but there is a <a href="http://crosbug.com/10048" style="color: rgb(0, 102, 204); outline-style: none;" rel="nofollow">workaround</a>.</li></ul>
</div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div>
<h3><a name="TOC-Enter-the-chroot"></a><hr><span style="text-indent: 0px;">Enter the chroot</span></h3>
</div>
</span><span style="text-indent: 0px;"><div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">Most
 of the commands that Chromium OS developers use on a day-to-day basis 
(including the commands to build a Chromium OS image) expect to be run 
from within the chroot. You can enter the chroot by using one of the 
commands in the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">src/scripts</code><span>&nbsp;</span>directory:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">./enter_chroot.sh</code></div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">This command will probably prompt you for your password for the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">sudo</code><span>&nbsp;</span>command
 (entering the chroot requires root&nbsp;privileges), then print out a 
bunch of messages. Once the command finishes, that terminal is in the 
chroot and you'll be in the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk/src/scripts</font></code><span>&nbsp;</span>directory,
 where most build commands live. In the chroot world you will only be 
able to see a subset of the filesystem on your machine. However, through
 some trickery (bind mounts), you will have access to the whole<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">src</code> directory from within the chroot – this is so that you can build the software within the chroot.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">Note in particular that the&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">src/scripts</font></code>&nbsp;directory is the same<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">src/scripts</code><span>&nbsp;</span>directory
 as you were in before you entered the chroot, even though it looks like
 a different location. That's because when you enter the chroot, the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk</font></code> directory in the chroot is mounted such that it points to the main Chromium OS directory&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">${HOME}/chromiumos</span>. That means that changes that you make to the source code outside of the chroot immediately take effect inside the chroot.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">While in the chroot you will see a special "(cros-chroot)" prompt to remind you that you are there:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">(cros-chroot) johnnyrotten@flyingkite ~/trunk/src/scripts $&nbsp;</code></div>
</div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">You
 cannot run programs on your filesystem from within the chroot. For 
example, if you are using eclipse as an IDE, or gedit to edit a text 
file, you will need to run those programs outside the chroot. As a 
consolation, you can use vim. If you are desperate for emacs, try 
typing&nbsp;<code style="color: rgb(0, 96, 0);">sudo emerge emacs</code>. Of course this command will build emacs from source so allow 5-10mins.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b><font color="#e69138">IMPORTANT NOTES</font></b><font color="#e69138">:<br>
</font>
<ul><li style="margin-top: 0.5em;"><font color="#9900ff">In this document, commands that are intended to be entered inside the chroot, and paths inside the chroot, are colored purple.</font></li>
<li style="margin-top: 0.5em;"><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;"><b>If you need to delete your chroot</b>, use&nbsp;<code style="color: rgb(0, 96, 0);">./make_chroot --delete</code><span>&nbsp;</span>to delete it properly. Using<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">rm -rf</code><span>&nbsp;</span>could end up deleting your source tree.</span></span></li></ul>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><b>SIDE NOTES</b>:<br>
<ul><li style="margin-top: 0.5em;">You can run some commands from 
outside the chroot, even if the commands expect to be run inside the 
chroot. Such commands are smart enough to enter the chroot for the 
duration of the command.</li>
<li style="margin-top: 0.5em;">If you need to share lots of files inside
 and outside chroot (for example, settings for your favorite editor / 
tools, or files downloaded by browser outside chroot, etc.), read <a href="http://dev.chromium.org/tips-and-tricks-for-chromium-os-developers" style="color: rgb(0, 102, 204); outline-style: none;">Tips and Tricks</a>.</li>
<li style="margin-top: 0.5em;">There is a file system loop because inside<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk</font></code><span>&nbsp;</span>you will find the chroot again. Don't think about this for too long. If you try to use<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">du -s ${HOME}/chromiumos/chroot/home</code><span>&nbsp;</span>you
 might get a message about a corrupted file system. This is nothing to 
worry about, and just means that your computer doesn't understand this loop either. (If you <i>can</i> understand this loop, try<span>&nbsp;</span><a href="http://www.google.com/search?q=the+fourth+dimension" style="color: rgb(0, 102, 204); outline-style: none;">something harder</a>.)</li></ul>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<hr>
</div>
<h3 style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><a name="TOC-Choose-what-board-you-want-to-build"></a>Choose what board you want to build for</h3>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">When
 you build Chromium OS, you will produce an disk image (usually just 
called an "image") that is appropriate for copying directly onto the 
boot disk of the computer on which you'd like to run Chromium OS. 
&nbsp;Depending on the specifics of that computer, you may want 
different things in that disk image. For instance, if your computer has 
an ARM processor, you'll want to make sure that everything on the disk 
is compatible with ARM. Similarly, if your computer has some specialized
 hardware, you'll want to include driver software for that hardware.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">Different
 classes of computers are referred to by Chromium OS as different target
 "boards."&nbsp; The following are some example boards:</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<ul><li><b>x86-generic</b><span>&nbsp;</span>- a good place to get started if you're running Chromium OS on a computer with a x86-compatible CPU</li>
<li><b>arm-generic</b><span>&nbsp;</span>- a good place to get started if you're running&nbsp;Chromium OS on a computer with a ARM CPU</li></ul>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">You
 need to choose a board for your first build. Don't worry too much about
 this choice – you can always build for another board later. If you want
 a list of known boards, you can look in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk/src/overlays</font></code>.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">You
 need to to specify the name of the board to various steps in the build 
process. To facilitate this, it can be helpful to keep the name of the 
board in a shell variable. This is not strictly necessary, but if you do
 this, you can simply copy and paste the commands below into your 
terminal program. Enter the following<span>&nbsp;</span><font color="#9900ff">inside your chroot</font>&nbsp;(note: change<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">x86-generic</font></code><span>&nbsp;</span>to whatever board you want to build for):</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px; color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">BOARD=x86-generic</font></code></div>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">This setting only holds while you stay in the chroot. If you leave and come back, you need to do specify this setting again.</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<hr>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif; border-collapse: separate; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-transform: none; white-space: normal; word-spacing: 0px;">
<h3><a name="TOC-Initialize-the-build-for-a-board"></a>Initialize the build for a board</h3>
<div>To start building for a given board, issue the following command<span>&nbsp;</span><font color="#9900ff">inside your chroot</font><span>&nbsp;</span>(you should be in the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk/src/scripts</font></code><span>&nbsp;</span>directory):</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./setup_board --board=${BOARD}</font></code></div>
</div>
<div><br>
</div>
<div>This command sets up the board target with a default sysroot of<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/build/${BOARD}</font></code>. The command downloads a small amount of stuff and takes a few minutes to complete.<br>
</div>
<div><br>
</div>
<div><br>
</div>
<div><b>SIDE NOTES</b>:<br>
<ul><li style="margin-top: 0.5em;">If you pass the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--default</font></code> flag to&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">setup_board</font></code>, the command writes the board name in the file<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk/src/scripts/.default_board</font></code><span>&nbsp;</span>(it does the same thing as&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">echo ${BOARD} &gt; ~/trunk/src/scripts/.default_board</font></code>). This makes it so that you don't need to specify a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--board</font></code> argument to subsequent commands. These instructions do not use the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--default</font></code> flag so that you can explicitly see what commands are board-specific.</li>
<li style="margin-top: 0.5em;">If you have previously set up this board, the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">setup_board</font></code> command will fail. If you really want to clobber your old board files and start fresh, try passing the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--force</font></code> flag, which deletes the old&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">/build/${BOARD}</font></code> directory for you. Like<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">enter_chroot.sh</code>, most people only re-run<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">setup_board</font></code><span>&nbsp;</span>when told to (they don't re-run it even after a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo sync</code>).</li>
<li style="margin-top: 0.5em;">You can delete the board sysroot at any time with:<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">sudo rm -rf /build/${BOARD}</font></code>.</li></ul>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Set-the-chronos-user-password"></a>Set the chronos user password</h3>
<div>On a Chromium OS computer, you can get command line access (and root access through the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">sudo</code><span>&nbsp;</span>command) by logging in with the shared user account "<font face="'courier new', monospace">chronos</font>".&nbsp; You should set a password for the <span style="font-family: courier new,monospace;">chronos</span> user by entering the command below from inside the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./set_shared_user_password.sh</font></code></div>
</div>
<br>
<div>You will be prompted for a password, which will be stored in encrypted form in the "<span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;"><code style="color: rgb(0, 96, 0);">src/scripts/</code></span></span><font color="#9900ff"><code style="color: rgb(0, 96, 0);">shared_user_password.txt</code></font>. &nbsp;</div>
<div><br>
</div>
<div><b>SIDE NOTES:</b> <br>
<ul><li style="margin-top: 0.5em;">Remember that the <code style="color: rgb(0, 96, 0);">src/scripts</code>
 directory is the same physical directory both inside and outside the 
chroot (not colored purple here to emphasize that). That means that<span> </span>even
 if you completely recreate your chroot, you don't have to run this 
command again. The only time you need to run this command again is if 
you sync down fresh source code.</li>
<li style="margin-top: 0.5em;">If you don't set a shared user password, the password for the<span>&nbsp;</span><font face="'courier new', monospace">chronos</font><span>&nbsp;</span>account
 may end up being any number of things depending on some complicated 
(and constantly evolving) formula that includes whether you build a 
developer image, whether you boot into developer mode, and the current 
state of the scripts. &nbsp;The password might be empty, or a well-known
 string, or it might be impossible to login with<span>&nbsp;</span><font face="'courier new', monospace">chronos</font>. &nbsp;It is strongly recommended that you simply set a shared user password. &nbsp;<font color="#ff0000">TODO: put a link to some place with more info about this.</font></li></ul>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Build-the-packages-for-your-board"></a>Build the packages for your board</h3>
<div>To build all the packages for your board, run the following command from inside the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./build_packages</font></code><span style="font-family: monospace; color: rgb(153, 0, 255);">&nbsp;--board=${BOARD}</span><span style="font-family: monospace; color: rgb(153, 0, 255);">&nbsp;--oldchromebinary</span></div>
</div>
<div><br>
</div>
<div>This step is the rough equivalent of<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">make all</code><span>&nbsp;</span>in
 a standard Makefile system. &nbsp;This command handles incremental 
builds; you should run it whenever you change something and need to 
rebuild it (or after you run<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo sync</code>).&nbsp;</div>
<div><br>
</div>
<div>
</div>
<div>Normally, the <span style="color: rgb(153, 0, 255); line-height: 13px;"><font face="'courier new', monospace">build_packages</font></span> command builds the stable version of a package (i.e., from committed git sources), unless you are working on a package (with <code style="color: rgb(0, 96, 0);"><font color="#9900ff">cros_workon</font></code>). If you are working on a package,&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">build_packages</span>&nbsp;will build using your local sources. See below for information about&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">cros_workon</span>.</div>
<div><br>
</div>
<div><br>
</div>
<div><b>SIDE NOTES:</b> <br>
<ul><li style="margin-top: 0.5em;">The<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--oldchromebinary</font></code><span>&nbsp;</span>flag
 is not strictly necessary, but it will make your build faster in some 
rare instances (when the Chrome/Chromium browser has recently been 
revved), at the cost of a slightly older version of Chrome/Chromium. 
&nbsp;This flag may become the default in the future.</li>
<li style="margin-top: 0.5em;">Even though there are some flags that can optimize your build (like <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--nowithdev</font></code>, <font color="#9900ff">--nowithautotest</font>, etc), you <b>should not</b> use these flags (even if you don't plan on building a developer / test image). There are some <a href="http://crosbug.com/5777" style="color: rgb(0, 102, 204); outline-style: none;" rel="nofollow">issues with virtual packages</a> that can cause some hard-to-debug differences if you use one of these flags.</li>
<li style="margin-top: 0.5em;">The first time you run the <font color="#9900ff"><font face="'courier new', monospace">build_packages</font></font>
 command, it will take a long time (around 90 minutes on a four core 
machine), as it must build every package, and also download about 1.7GB 
of source packages and 1.3GB of binary packages. <a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/portage-build-faq#TOC-What-does-build_packages-actually-d">See here</a> for more information about what the <font face="'courier new', monospace"><font color="#9900ff">build_packages</font></font> command actually does. In short, it tries to download existing binary packages to avoid building anything (and puts them in<font color="#9900ff"><font face="'courier new', monospace">/build/${BOARD}/packages</font></font><span>&nbsp;</span>for subsequent builds). Failing that, it downloads source packages, puts them in <font color="#9900ff"><font face="'courier new', monospace">/var/lib/portage/distfiles-target</font></font>, and builds them.</li>
</ul>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Build-a-disk-image-for-your-board"></a>Build a disk image for your board</h3>
<div>Once the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">build_packages</font></code><span>&nbsp;</span>step is finished, you can make an image by running the command below from inside the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./build_image --board=${BOARD} --withdev --noenable_rootfs_verification</font></code></div>
</div>
<br>
<div>This command creates an image with developer tools that allow you 
to freely modify the root file system. The image that is produced will 
not be a secure version of Chromium OS, but will give you fairly liberal
 access. If you would like a more secure, locked-down version of 
Chromium OS, you should leave off the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--withdev</span>&nbsp;and&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--noenable_rootfs_verification</span>&nbsp;options.</div>
<div><br>
</div>
<div>The image produced by&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">build_image</span>&nbsp;will be located in&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">~/trunk/src/build/images/${BOARD}/versionNum/</font></code>&nbsp;(where&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">versionNum</span>&nbsp;will actually be a version number). &nbsp;The most recent image produced for a given board will be symlinked to&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/build/images/${BOARD}/latest</span>.</div>
<div><br>
</div>
<div><b><font color="#e69138">IMPORTANT NOTE</font></b>: It's up to you to delete old builds that you don't need. Every time you run<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">build_image</font></code>, the command creates files that take up <b>over</b><span>&nbsp;</span><b>4GB of space</b><b>(!)</b>.</div>
<div><br>
</div>
<div>
<hr>
</div>
<a name="TOC-Looking-at-your-disk-image-optional"></a>
<h3><a name="TOC-Look-at-your-disk-image-optional-"></a>Look at your disk image (optional)</h3>
<div>If you want, you can look at the rootfs of the disk image that you just created by using the following commands:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><span style="font-family: monospace;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">cd ~/trunk/src/build/images/${BOARD}/latest</font></code></span></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./unpack_partitions.sh chromiumos_image.bin</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">mkdir -p rootfs</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">sudo mount -o loop part_3 rootfs</font></code></div>
</div>
<div><br>
</div>
This will do a loopback mount of the rootfs from your image to the location&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">~/trunk/src/build/images/${BOARD}/latest/rootfs</span>&nbsp;in your chroot.</div>
<div><br>
</div>
<div>If you built an x86 Chromium OS image, you can probably even try chrooting into the image:</div>
<div><br>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">sudo chroot&nbsp;</font></code><span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/build/images/${BOARD}/latest/rootfs</span></div>
</div>
</div>
<div><br>
</div>
<div>This is a little hacky (the Chromium OS rootfs isn't really 
designed to be a chroot for your host machine), but it seems to work 
pretty well. Don't forget to <code style="color: rgb(0, 96, 0);">exit</code> this chroot when you're done.<br>
<br>
</div>
</div>
</span>When you're done, unmount the root filesystem:<br>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div>
<div><span style="font-family: monospace;"><font color="#9900ff">sudo umount&nbsp;~/trunk/src/build/images/${BOARD}/latest/rootfs</font><font color="#0b5394">&nbsp;</font></span></div>
</div>
</div>
<br>
<div>If you don't want to unpack the partitions (which takes up extra disk space), you can also mount directly without unpacking:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">cd ~/trunk/src/build/images/${BOARD}/latest</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">ROOTA_START=`grep 'ROOT-A' unpack_partitions.sh | awk '{print $2;}'`<br>
mkdir -p rootfs</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">sudo mount -o loop,offset=$((512 * ${ROOTA_START})) chromiumos_image.bin rootfs</font></code></div>
</div>
<div><br>
</div>
<div>Again, don't forget to unmount the root filesystem when you're done:</div>
<span style="line-height: 13px;">
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div>
<div><span style="font-family: monospace;"><font color="#9900ff">sudo umount&nbsp;~/trunk/src/build/images/${BOARD}/latest/rootfs</font><font color="#0b5394">&nbsp;</font></span></div>
</div>
</div>
</span>
<div><br>
</div>
<div><font color="#ff0000">TODO: I think most/all of the above is handled in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">src/scripts/mount_gpt_image.sh</code>. &nbsp;Rewrite the above using that script.<br>
<br>
<br>
</font>
<hr width="100%" size="2">
<hr width="100%" size="2">
<h2><a name="TOC-Running-your-image"></a><font color="#ff0000"><font color="#000000">Running your image</font></font></h2>
<br>
<hr width="100%" size="2">
<h3><a name="TOC-Getting-your-image-running-on-a-com"></a>Getting your image running on a computer without verified boot</h3>
</div>
<div>If you are trying to run your image on a normal computer, laptop, 
or netbook (one that didn't come installed with Google Chrome OS), 
follow the instructions in this section. Said another way:</div>
<div><br>
</div>
<blockquote style="margin: 0pt 0pt 0pt 40px; border-width: medium; border-style: none; padding: 0px;">
<div>
<div>
<div><b><font color="#e69138">This section is NOT for use on the Google Cr-48 Notebook.&nbsp;</font></b><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Getting-your-image-running-on-your-" style="color: rgb(0, 102, 204); outline-style: none;">See below</a><span>&nbsp;</span><b><font color="#e69138">if you have a Cr-48 Notebook.</font></b></div>
</div>
</div>
</blockquote>
<div>
<div>
<h4 style="margin-top: 2em;"><a name="TOC-Put-your-image-on-a-USB-disk"></a>Put your image on a USB disk</h4>
<div>The easiest way to get your image running on your target computer 
is to put the image on a USB flash disk (sometimes called a USB key), 
and boot the target computer from the flash disk. The first step is to 
insert a USB flash disk (4GB or bigger) into your build computer. <b><font color="#e69138">This disk will be completely erased, so make sure it doesn't have anything important on it</font></b>. &nbsp;Wait ~10 seconds for the USB disk to register, then type the following command in the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_usb.sh --board=${BOARD}</font></code></div>
</div>
<div><br>
</div>
<div>Since you didn't pass a&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--to</span>&nbsp;parameter, the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>&nbsp;command
 lists all the USB disks that it finds. &nbsp;If your USB disk is not 
listed, wait a few seconds and try the command again. Note that your USB
 disk may show up as something like<span> </span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/dev/sdc</font></code>. Once the command finds your USB disk, run the command again with the <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--to</span>&nbsp;parameter (you should replace&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">${MY_USB_KEY_LOCATION}</span>&nbsp;with the location for your disk, like<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/dev/sdc</font></code>):</div>
<div><br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_usb.sh --board=${BOARD} --to=${MY_USB_KEY_LOCATION}</font></code></div>
</div>
</div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff"><br>
</font></code></div>
<div>When the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>&nbsp;command finishes, you can simply unplug your USB key and it's ready to boot from.</div>
<div><br>
</div>
<div><b><font color="#e69138">IMPORTANT NOTE</font></b>: To emphasize again, <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>
 completely replaces the contents of your USB disk. Make sure there is 
nothing important on your USB disk before you run this command.<br>
</div>
<div><br>
</div>
<div><b>SIDE NOTES:<br>
</b>
<ul><li style="margin-top: 0.5em;">By default, <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>
 uses the latest image for the given board. If you want to use an image 
from a different directory, you can specify the directory with the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--from</font></code> flag.</li>
<li style="margin-top: 0.5em;">If you want to create a test image (used for allowing Chromium OS to talk to autotest), see the <a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Running-Tests">Running Tests</a> section.</li>
</ul>
</div>
<h4 style="margin-top: 2em;"><a name="TOC-Boot-from-your-USB-disk"></a>Boot from your USB disk</h4>
<div>
<div>You should be able to configure your target computer's BIOS to boot
 from your USB key. After you've done that, simply plug in your newly 
minted USB key and reboot your target computer – it should now boot from
 the Chromium OS image on your USB key. Your Chromium OS image may not 
have all the drivers to run all of the&nbsp;peripherals&nbsp;on your 
computer, but it should at least boot.</div>
<div><br>
</div>
<div>For specific information about what works on various different machines, see the&nbsp;<a href="http://dev.chromium.org/chromium-os/getting-dev-hardware/dev-hardware-list" style="color: rgb(0, 102, 204); outline-style: none;">Developer Hardware</a>&nbsp;page.<br>
<br>
</div>
<div><br>
</div>
<div>
<hr>
</div>
</div>
<div>
<div>
<h3><a name="TOC-Getting-your-image-running-on-a-Chr"></a>Getting your image running on a Chrome OS Notebook</h3>
</div>
<div>Follow the instructions in this section if you are trying to get 
your image running on a system has an official Chrome OS BIOS; eg, the<span>&nbsp;</span><a href="http://www.google.com/chromeos/pilot-program-cr48.html" style="color: rgb(0, 102, 204); outline-style: none;">Cr-48 Chrome Notebook</a>. Said another way:</div>
</div>
</div>
</div>
<div><br>
</div>
<blockquote style="margin: 0pt 0pt 0pt 40px; border-width: medium; border-style: none; padding: 0px;">
<div>
<div>
<div>
<div>
<div>
<blockquote style="margin: 0pt 0pt 0pt 40px; border-width: medium; border-style: none; padding: 0px;">
</blockquote>
</div>
</div>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<div>
<div><b><font color="#e69138">Use the previous section for a normal 
computer. This section is ONLY for use on computers that have an 
official Google Chrome OS BIOS such as the </font></b><a href="http://www.google.com/chromeos/pilot-program-cr48.html" style="color: rgb(0, 102, 204); outline-style: none;">Cr-48 Chrome Notebook</a><b><font color="#e69138">.</font></b></div>
</div>
</div>
</div>
</div>
</div>
</div>
</blockquote>
<div>
<div>
<div>
<h4 style="margin-top: 2em;"><a name="TOC-A-quick-primer-in-verified-boot"></a>A quick primer on verified boot</h4>
<div>You must understand a bit about verified boot before you can go any
 further. Unless you crack open the hardware on your notebook (which 
probably voids any warranty you might have), having a computer with 
verified boot means:</div>
<div>
<ul><li style="margin-top: 0.5em;">You can only boot from a USB disk if 
the boot image on the USB disk has been signed by the "recovery key" for
 your device. Since the recovery key is tightly controlled, that means 
you'll only be able to boot the special Recovery Kernel provided for 
your device over USB.</li>
<li style="margin-top: 0.5em;">If your device is in "release mode":</li>
<ul><li>You can only boot from the internal SSD if the boot image on the
 SSD has been signed by the "release key". The release key is also 
tightly controlled, so that means devices in "release" mode can only 
boot official images.</li></ul>
<li style="margin-top: 0.5em;">If your device is in "developer mode":</li>
<ul><li>You can boot any self-signed image from the internal SSD.<br>
</li></ul></ul>
<div>If you're quick, then you've probably figured out that one way to boot your image on your device is:</div>
</div>
<div>
<ol style="list-style-type: decimal;"><li style="margin-top: 0.2em;">Switch your device to Developer Mode.</li>
<li style="margin-top: 0.2em;">Use the special Recovery Kernel for your device to flash your self-signed image onto the device's SSD.</li>
</ol>
</div>
<div>Let's go through that one step at a time.</div>
<h4 style="margin-top: 2em;"><a name="TOC-Get-your-Chrome-OS-Notebook-into-De"></a>Get your Chrome OS Notebook into Developer Mode</h4>
<div>This is different for each computer, but it usually involves 
flipping a switch that's under the battery (and sometimes also under a 
sticker). &nbsp;You'll want to reference the<span>&nbsp;</span><a href="http://dev.chromium.org/chromium-os/developer-information-for-chrome-os-devices" style="color: rgb(0, 102, 204); outline-style: none;">documentation for your Chrome OS Notebook</a>.</div>
<div><br>
</div>
<div><b>SIDE NOTE:</b> Switching into Developer Mode does a lot of stuff
 (erasing your stateful partition, disabling some of the checks that 
make sure you're running official code, etc). See the documentation for 
your Chrome OS Notebook for details.</div>
<h4 style="margin-top: 2em;"><a name="TOC-Get-the-Recovery-Kernel-for-your-Ch"></a>Get the Recovery Kernel for your Chrome OS Notebook</h4>
<div>The recovery kernel is different for every Chrome OS Notebook. You 
might be able to find a link to the recovery kernel in&nbsp;the<span>&nbsp;</span><a href="http://dev.chromium.org/chromium-os/developer-information-for-chrome-os-devices" style="color: rgb(0, 102, 204); outline-style: none;">documentation for your Chrome OS Notebook</a>. If not, you might be able to<span>&nbsp;</span><a href="http://dev.chromium.org/chromium-os/extracting-a-recovery-kernel-from-a-recovery-image" style="color: rgb(0, 102, 204); outline-style: none;">extract a Recovery Kernel from a Recovery Image</a><span>&nbsp;</span>(Recovery Images are sometimes easier to find).</div>
<div><br>
</div>
<div>
<div>As an example, you can get the recovery kernel for the&nbsp;<a href="http://www.google.com/chromeos/pilot-program-cr48.html" style="color: rgb(0, 102, 204); outline-style: none;">Cr-48 Chrome Notebook</a>&nbsp;(AKA Mario) by running the steps below from inside the chroot:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">curl https://dl.google.com/dl/edgedl/chromeos/recovery/mario_recovery_kernel.zip &gt; ~/trunk/mario_recovery_kernel.zip</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">unzip -d ~/trunk ~/trunk/mario_recovery_kernel.zip</font></code></div>
<div><font color="#9900ff"><br>
</font></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">RECOVERY_KERNEL=~/trunk/mario_recovery_kernel.bin</font></code></div>
</div>
<br>
<div>The instructions below assume that you've set the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">RECOVERY_KERNEL</font></code><span>&nbsp;</span>variable as above.</div>
</div>
</div>
<div>
<h4 style="margin-top: 2em;"><a name="TOC-Build-a-recovery-image"></a>Build a recovery image</h4>
</div>
<div>Now that you have a built image and a recovery kernel, you can build a recovery image using&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">mod_image_for_recovery.sh</font></code>. &nbsp;Here's the magic set of steps (assuming that you've got a path to the recovery kernel in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">${RECOVERY_KERNEL}</font></code><span>&nbsp;</span>and that the recovery kernel is a match for the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">${BOARD}</font></code><span>&nbsp;</span>you built):</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./mod_image_for_recovery.sh \</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--board=${BOARD} \</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--nominimize_image \</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--kernel_image ${RECOVERY_KERNEL} \</font></code></div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--image ~/trunk/src/build/images/${BOARD}/latest/chromiumos_image.bin</font></code></div>
</div>
</div>
<div><br>
</div>
<div>
<div><b>SIDE NOTE</b>: If you're interested in creating a test image (used for allowing Chromium OS to talk to autotest), you can use<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">mod_image_for_test.sh</font></code><span>&nbsp;</span>to manually modify your image before combining it with the recovery image. &nbsp;<font color="#ff0000">TODO: Document this</font>.</div>
</div>
<h4 style="margin-top: 2em;"><a name="TOC-Copy-the-recovery-image-to-a-USB-ke"></a>Copy the recovery image to a USB key</h4>
<div>
<div>The first step is to insert a USB flash disk (4 GB or bigger) into your build computer. <b><font color="#e69138">This disk will be completely erased, so make sure it doesn't have anything important on it</font></b>. &nbsp;Wait ~10 seconds for the USB disk to register, then type the following command in the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_usb.sh --board=${BOARD}</font></code></div>
</div>
<div><br>
</div>
<div>Since you didn't pass a&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--to</span>&nbsp;parameter, the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>&nbsp;command
 lists all the USB disks that it finds. &nbsp;If your USB disk is not listed,
 wait a few seconds and try the command again. Note that your USB disk 
may show up as something like<span> </span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/dev/sdc</font></code>. Once the command finds your USB disk, run the command again with the <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--to</span>&nbsp;parameter (you should replace&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">${MY_USB_KEY_LOCATION}</span>&nbsp;with the location for your disk, like<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/dev/sdc</font></code>):</div>
<div><br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_usb.sh --board=${BOARD} </font></code><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--image_name=recovery_image.bin </font></code><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--to=${MY_USB_KEY_LOCATION}</font></code></div>
</div>
</div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff"><br>
</font></code></div>
<div>When the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>&nbsp;command finishes, you can simply unplug your USB key and it's ready to boot from.</div>
<div><br>
</div>
<div><b><font color="#e69138">IMPORTANT NOTE</font></b>: To emphasize again, <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>
 completely replaces the contents of your USB disk. Make sure there is 
nothing important on your USB disk before you run this command.<br>
</div>
<div><br>
</div>
<div><b>SIDE NOTES:<br>
</b>
<ul><li style="margin-top: 0.5em;">By default, <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>
 uses the latest image for the given board. If you want to use an image 
from a different directory, you can specify the directory with the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--from</font></code> flag.</li>
<li style="margin-top: 0.5em;">If you want to create a test image (used for allowing Chromium OS to talk to autotest), see the <a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Running-Tests">Running Tests</a> section.</li></ul>
</div>
<h4 style="margin-top: 2em;"><a name="TOC-Install-your-image-to-the-SSD"></a>Install your image to the SSD</h4>
<div>In developer mode, your Chrome OS Notebook gives you an option to 
use a recovery image every time the machine boots. To install your 
recovery image, do the following:</div>
<div>
<ol style="list-style-type: decimal;"><li style="margin-top: 0.2em;">Turn your Chrome OS Notebook off.</li>
<li style="margin-top: 0.2em;">Turn it back on.</li>
<li style="margin-top: 0.2em;">During the boot warning, press space to enter recovery mode.</li>
<li style="margin-top: 0.2em;">Wait until prompted to put your USB disk in.</li>
<li style="margin-top: 0.2em;">Put the USB disk in.</li>
<li style="margin-top: 0.2em;">Wait while the image is copied to the SSD.</li>
</ol>
<div>If you reboot now, you'll be booting from your image (you may need to wait past the recovery screen). &nbsp;Congratulations!</div>
</div>
<div><br>
</div>
<div><b><font color="#e69138">IMPORTANT NOTE</font></b>: You<span>&nbsp;</span><b>must</b>&nbsp;stay
 in Developer Mode to continue booting your image. Since your image was 
not signed by the release keys (it's self-signed image), it will only 
boot in Developer Mode. If you want to go back to Release Mode, just 
copy (/bin/dd) the .bin file that you first extracted from the .zip file
 above directly to a USB drive, without making any modifications to it.<br>
</div>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Getting-to-a-command-prompt-on-Chro"></a>Getting to a command prompt on Chromium OS</h3>
<div>Since you set the shared user password (with&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">set_shared_user_password.sh</span>) when you built your image, you have the ability to login as the&nbsp;<span style="font-family: courier new,monospace; color: rgb(153, 0, 0);">chronos</span><span style="color: rgb(153, 0, 0);">&nbsp;</span>user:<br>
<ol><li style="margin-top: 0.2em;">After your computer has booted to the Chromium OS login screen, press <span style="color: rgb(153, 0, 0);">[ Ctrl ] [ Alt ] [ F2 ]</span> to get a text-based login prompt.</li>
<li style="margin-top: 0.2em;">Login with the<span>&nbsp;</span><font style="color: rgb(153, 0, 0);" face="'courier new', monospace">chronos</font><span>&nbsp;</span>user and enter the password you set earlier.</li>
</ol>
</div>
<div>
</div>
<div>Because you built an image with developer tools, you also have an 
alternate way to get a terminal prompt. The alternate shell is a little 
nicer (in the very least, it keeps your screen from dimming on you), 
even if it is a little harder to get to. To use this alternate shell:</div>
<div>
<ol style="list-style-type: decimal;">
<li style="margin-top: 0.2em;">Go through the standard Chromium OS login
 screen (you'll need to setup a network, etc.) and get to the web 
browser. &nbsp;It's OK to login as guest.</li>
<li style="margin-top: 0.2em;">Press <span style="color: rgb(153, 0, 0);">[ Ctrl ] [ Alt ] [ T ]</span> to get the crosh shell.</li>
<li style="margin-top: 0.2em;">Use the<span>&nbsp;</span><code style="color: rgb(153, 0, 0);">shell</code><span>&nbsp;</span>command to get the shell prompt. NOTE: you<span>&nbsp;</span><b>don't</b>&nbsp;need to enter the&nbsp;<span style="font-family: courier new,monospace; color: rgb(153, 0, 0);">chronos</span>&nbsp;password here, though you will still need the password if you want to use the<span>&nbsp;</span><code style="color: rgb(153, 0, 0);">sudo</code><span>&nbsp;</span>command.</li>
</ol>
<br>
<div>
<hr>
</div>
</div>
<h3><a name="TOC-Installing-your-Chromium-OS-image-t"></a>Installing your Chromium OS image to your hard disk</h3>
<div>If you followed the set of instructions for a Chrome OS Notebook, 
the image is already on your hard disk. However, if you booted Chromium 
OS straight from a USB key, you might want to put your image onto the 
hard disk.</div>
<div><br>
</div>
<div>Once you've booted from your USB key and gotten to the command 
prompt, you can install your Chromium OS image to the hard disk on your 
computer with this command:</div>
<div><br>
</div>
<div style="color: rgb(153, 0, 0);">
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(153, 0, 0);">/usr/sbin/chromeos-install</code></div>
</div>
<div><br>
</div>
<div><b><font color="#e69138">IMPORTANT NOTE</font></b>: Installing Chromium OS onto your hard disk will<span>&nbsp;</span><b><font color="#ff0000">WIPE YOUR HARD DISK CLEAN</font></b>.</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Building-an-image-to-run-in-a-virtu"></a>Building an image to run in a virtual machine</h3>
<div>Many times it is easier to simply run Chromium OS in a virtual machine like&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">kvm</span>. &nbsp;You can adapt the previously built Chromium OS image so that it is usable by&nbsp;<code style="color: rgb(0, 96, 0);">kvm</code>&nbsp;(which uses qemu images) by entering this command from the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_vm.sh&nbsp;--board=${BOARD}</font></code></div>
</div>
<br>
<div>This command creates the file&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">~/trunk/src/build/images/${BOARD}/latest/chromiumos_qemu_image.bin</span>.</div>
<div><br>
</div>
<div><b>SIDE NOTES:<br>
</b>
<ul><li style="margin-top: 0.5em;">If you want to adapt the image for other virtual machines, see the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--format=vmware</font></code><span>&nbsp;</span>and<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--format=virtualbox</font></code><span>&nbsp;</span>options. [Note: Only KVM/QEMU VM's are actively supported at the moment, other formats may or may not work on a given build]</li>
<li style="margin-top: 0.5em;">You can specify source/destination paths with the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--from</font></code><span>&nbsp;</span>and<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">--to</font></code><span>&nbsp;</span>parameters.</li>
<li style="margin-top: 0.5em;">If you're interested in creating a test image (used for allowing Chromium OS to talk to autotest), see the<span>&nbsp;</span><a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Running-Tests" style="color: rgb(0, 102, 204); outline-style: none;">Running Tests</a><span>&nbsp;</span>section.</li></ul>
</div>
<div>
<br>
<br>
</div>
<hr width="100%" size="2">
<hr width="100%" size="2">
<a name="TOC-Making-changes"></a>
<a name="TOC-Making-changes-to-a-package-whose-s"></a>
<h2><a name="TOC-Making-changes-to-packages-whose-so"></a>Making changes to packages whose source is checked into the Chromium OS source control system<br>
</h2>
<hr width="100%" size="2">
<h3><a name="TOC-Keep-the-tree-green"></a>Keep the tree green</h3>
<div>
Now that you can build and run Chromium OS, you're ready to start making changes to the code.<br>
<br>
Before you start, take a moment to understand Chromium's source 
management strategy of "keeping the tree green." For the Chromium OS 
project, <b>keeping the tree green</b> means:<br>
</div>
<span style="font-family: arial,sans-serif; border-collapse: collapse;">
<div>
<div>
<div>
<ol style="list-style-type: decimal;"><li style="margin-left: 15px;">Any new commits should not destabilize the build:</li>
<ul><li style="margin-left: 15px;">Images built from the tree should always have basic functionality working.</li>
<li style="margin-left: 15px;">There may be minor functionality not 
working, and it may be the case, for example, that you will need to use 
Terminal to fix or work around some of the problems.&nbsp;
<br>
<br>
</li></ul>
<li style="margin-left: 15px;">If you must introduce unstable changes to
 the tree (which should happen infrequently), you should use 
parameterization to hide new, unstable functionality behind a flag 
that's turned off by default. The Chromium OS team leaders may need to 
develop mechanisms for parameterizing different parts of the system 
(such as the init script).<br>
<br>
</li>
<li style="margin-left: 15px;">Internal "dev channel" releases will be 
produced directly from the tree, with a quick branch to check-point the 
release version. Any fixes required for a release will be pulled from 
the tree, avoiding merges back to tree.</li>
</ol>
</div>
</div>
</div>
</span>
<div><span style="font-family: arial,sans-serif; border-collapse: collapse;"><span style="background-color: rgb(255, 255, 255);">This&nbsp;</span><span><span style="background-color: rgb(255, 255, 255);">strategy</span></span><span style="background-color: rgb(255, 255, 255);">&nbsp;has
 many benefits, including avoiding separate build trains for parallel 
development (and the cost of supporting such development), as well as avoiding large, 
costly merges from forked branches.<br>
<br>
<b>SIDE NOTE</b>: "Keep the tree green" means something a bit different 
for Chromium OS than for Chromium, which is much further along in its 
life cycle.</span><span style="background-color: rgb(255, 255, 255);">&nbsp;</span></span><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;"><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Times New Roman; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; font-size: medium;"><span style="font-family: Arial,Verdana,sans-serif; font-size: 13px;">
<span style="font-family: arial,sans-serif; border-collapse: collapse;">
</span></span></span></span></span><br>
</div>
<br>
<div>The steps in this section describe how to make changes to a 
Chromium OS package whose source is checked into the Chromium OS source 
control system. Specifically, this is a package where:</div>
<div>
<ul><li>The<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><b>ebuild</b></code><span>&nbsp;</span>for the package lives in the&nbsp;<code style="color: rgb(0, 96, 0);">src/third_party/chromiumos-overlay</code>&nbsp;or&nbsp;<code style="color: rgb(0, 96, 0);">src/overlays/overlay-${BOARD}</code><span>&nbsp;</span>directories.</li>
<li>There is an&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">ebuild</span>&nbsp;for the package that ends with<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">9999.ebuild</code>.</li>
<li>The&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">ebuild</span>&nbsp;inherits from the&nbsp;<code style="color: rgb(0, 96, 0);">cros-workon</code><span>&nbsp;</span>class.</li>
<li>The&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">ebuild</span>&nbsp;has a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">KEYWORD</code><span>&nbsp;</span>in the ebuild containing this architecture name (like "<code style="color: rgb(0, 96, 0);">x86</code>").</li></ul>
You can see a list of all such packages by running the following command from inside the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<br>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./cros_workon --board=${BOARD} list --all <br>
</font></code></div>
</div>
<div>
<br>
<hr width="100%" size="2">
<h3><a name="TOC-Run-cros_workon-start"></a>Run cros_workon start</h3>
</div>
<div>The first thing you need to do is to mark the package as active. Use the command below, replacing&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">${PACKAGE_NAME}</span>&nbsp;with your package name (e.g., <code style="color: rgb(0, 96, 0);"><font color="#9900ff">chromeos-wm</font></code>):</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./cros_workon --board=${BOARD} start ${PACKAGE_NAME}</font></code></div>
</div>
<br>
<div>This command:</div>
<div>
<ul><li>Indicates that you'd like to build the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">9999</code><span>&nbsp;</span>version of the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">ebuild</code>&nbsp;instead of the stable, committed version.</li>
<li>Indicates that you'd like to build from source&nbsp;every time.</li>
<li>If you specified that you wanted the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">minilayout</code><span>&nbsp;</span>when you did your<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo init</code>, this command adds a clause to your<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">.repo/local_manifest.xml</code><span>&nbsp;</span>to tell<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo</code><span>&nbsp;</span>to sync down the source code for this package next time you do a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo sync</code>.</li></ul>
<br>
<hr width="100%" size="2">
<a name="TOC-repo-sync"></a>
<h3><a name="TOC-Run-repo-sync"></a>Run repo sync</h3>
</div>
<div>After running <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">cros_workon</span>, sync down the sources. This is critical if you're using the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">minilayout</code>,
 but is probably a good idea in any case to make sure that you're 
working with the latest code (it'll help avoid merge conflicts 
later).&nbsp; Run the command below from outside the chroot, anywhere 
under your<code style="color: rgb(0, 96, 0);">~/chromiumos</code><span>&nbsp;</span>directory:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">repo sync</code></div>
</div>
<br>
<div>
<div><font color="#ff0000">TODO: The old instructions had this warning in them:</font></div>
<div><font color="#ff0000"><br>
</font></div>
</div>
</div>
</div>
<blockquote style="margin: 0pt 0pt 0pt 40px; border-width: medium; border-style: none; padding: 0px;">
<div>
<div>
<div>
<div><font color="#ff0000">if you run&nbsp;<span style="font-family: monospace;">repo sync</span>&nbsp;inside your chroot ensure your email is configured right in&nbsp;<span style="font-family: monospace;">git</span>&nbsp;(<code style="color: rgb(0, 96, 0);">git config -l</code>). If your local commit email differs from your&nbsp;<span style="font-family: monospace;">git</span>&nbsp;config email address or if your&nbsp;<span style="font-family: monospace;">git</span>&nbsp;config email address is unset a "<span style="font-family: monospace;">repo sync</span>" will discard your local commits. The&nbsp;<code style="color: rgb(0, 96, 0);">make_chroot</code>&nbsp;/&nbsp;<code style="color: rgb(0, 96, 0);">enter_chroot</code>&nbsp;commands have been enhanced to copy your global&nbsp;<span style="font-family: monospace;">git</span>&nbsp;config into the chroot, so this should just work.</font></div>
</div>
</div>
</div>
</blockquote>
<div>
<div>
<div>
<div><font color="#ff0000"><br>
</font></div>
<div><font color="#ff0000">Someone who knows better should figure out if this warning is still relevant and update this section.<br>
<br>
</font></div>
</div>
</div>
</div>
<div>
<div>
<hr width="100%" size="2">
<h3><a name="TOC-Figure-out-where-the-ebuild-source-"></a>Figure out where the ebuild / source code for the project is located<br>
</h3>
<div style="font-weight: normal;">It can be a little tricky to figure 
out where the source code and ebuild for your project is located. 
Luckily, some magic portage commands can help you.</div>
</div>
<div><br>
</div>
<div>To find out where the ebuild lives:</div>
<div><br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">equery-${BOARD} which</font></code><span style="font-family: monospace; color: rgb(153, 0, 255);">&nbsp;${PACKAGE_NAME}</span></div>
</div>
</div>
<div><br>
</div>
<div>As an example, for&nbsp;<span style="font-family: monospace; line-height: 13px;"><font color="#9900ff">PACKAGE_NAME=chromeos-wm</font></span>, the above command might display:<br>
<span>&nbsp;&nbsp; &nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/home/.../trunk/src/third_party/chromiumos-overlay/chromeos-base/chromeos-wm/chromeos-wm-9999.ebuild</font></code></div>
<div><br>
</div>
<div><b>SIDE NOTE:</b> If you run the same command<span> </span><b>without</b> running cros_workon first, you can see the difference:</div>
<div>
<div><span>&nbsp;&nbsp; &nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">/home/.../trunk/src/third_party/chromiumos-overlay/chromeos-base/chromeos-wm/chromeos-wm-0.0.1-r134.ebuild</font></code></div>
</div>
<div><code style="color: rgb(0, 96, 0);"><br>
</code></div>
<div>To find out where the source code lives (and what<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git</code><span>&nbsp;</span>repo it's under):</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><font color="#9900ff"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">ebuild-${BOARD} `equery-${BOARD} which ${PACKAGE_NAME}</font></code><code style="color: rgb(0, 96, 0);"><font color="#9900ff">` info</font></code></font></div>
</div>
<br>
<div>Trying this command with&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">PACKAGE_NAME=chromeos-wm</span>, you might see something like:</div>
<div>
<div><span>&nbsp;&nbsp; &nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">CROS_WORKON_SRCDIR="/home/.../trunk/src/platform/window_manager"</font></code></div>
<div><span>&nbsp;&nbsp; &nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">CROS_WORKON_PROJECT="window_manager"</font></code></div>
</div>
<div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif;"><br>
</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif;"><b>SIDE NOTE</b>: The shell script below can be interesting/useful if you want to see info about all packages (it's a little slow, though):</div>
<div style="color: rgb(0, 0, 0); font-family: Arial,Verdana,sans-serif;"><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><font color="#9900ff"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">ALL_PACKAGES=`./cros_workon --board=${BOARD} list --all`</font><br>
</code><span style="font-family: monospace;">for package in ${ALL_PACKAGES}; do<br>
</span><span style="font-family: monospace;">&nbsp;&nbsp;ebuildPath=`equery-${BOARD} which ${package}`<br>
</span><span style="font-family: monospace;">&nbsp;&nbsp;eval `ebuild-${BOARD} "${ebuildPath}" info`<br>
</span><span style="font-family: monospace;">&nbsp;&nbsp;echo "${package} - $CROS_WORKON_PROJECT - $CROS_WORKON_SRCDIR"<br>
</span><span style="font-family: monospace;">done</span></font></div>
</div>
<br>
<hr width="100%" size="2">
<h3><a name="TOC-Create-a-branch-for-your-changes"></a>Create a branch for your changes</h3>
<div>Since Chromium OS uses<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo</code>/<code style="color: rgb(0, 96, 0);">git</code><span>&nbsp;</span>and<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git-cl</code>, you should always create a local branch whenever you make changes.<br>
<br>
You can run the command to create a local branch from outside the chroot (anywhere under your&nbsp;<code style="color: rgb(0, 96, 0);">~/chromiumos</code>&nbsp;directory), or from within the chroot. In the command below, replace&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">${CROS_WORKON_PROJECT}</span>&nbsp;with the project name you found in the previous step, and replace&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">${BRANCH_NAME}</span>&nbsp;with a name that is meaningful to you and that describes your changes (nobody else will see this name):</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">repo start ${BRANCH_NAME} ${CROS_WORKON_PROJECT}</code></div>
</div>
<div><br>
</div>
<div>
<div>If you want to work on something that is not checked into the 
Chromium OS tree (e.g., ebuild files in third_party/chromium-overlay), 
cd to the directory where you want to make your change, and use '.' in 
place of ${CROS_WORKON_PROJECT}, as shown below:<br>
<br>
</div>
</div>
<div>
<div>
<div><font style="background-color: rgb(204, 204, 204);" color="#00ff00">
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 16px;"><code style="color: rgb(0, 96, 0);">repo start ${BRANCH_NAME} .</code></div>
</font></div>
</div>
</div>
<div><br>
</div>
<div>The branch that this creates will be based on the remote branch. If
 you've made any other local changes, they will not be present in this 
branch.<br>
<br>
</div>
<div>
<hr width="100%" size="2">
<h3><a name="TOC-Make-your-changes"></a>Make your changes</h3>
</div>
<div>You should be able to make your changes to the source code now. &nbsp;To incrementally compile your changes, use&nbsp;</div>
<div><br>
</div>
<div><font color="#9900ff" face="'courier new', monospace">
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff" size="3">./bin/cros_workon_make&nbsp;--board=${BOARD} ${PACKAGE_NAME}</font></code></div>
</font></div>
<div><br>
</div>
<div>This will build your package inside your source directory. 
&nbsp;Change a single file, and it will rebuild only that file and 
re-link. &nbsp;If your package contains test binaries, using</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./bin/cros_workon_make --board=${BOARD} ${PACKAGE_NAME} --tests</font></code></div>
</div>
<div><br>
</div>
<div>will build and run those binaries as well. &nbsp;Call<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">cros_workon_make --help</font></code><span>&nbsp;</span>to see other options that are supported.</div>
<div><br>
</div>
<div>You probably want to get your changes onto your device now. &nbsp;You can certainly now rebuild an image with<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">build_image</font></code><span>&nbsp;</span>and then reimage your device. &nbsp;...but you might also want to take a peek at the<span>&nbsp;</span><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/using-the-dev-server" style="color: rgb(0, 102, 204); outline-style: none;">devserver instructions</a><span>&nbsp;</span>if you want something a little quicker.<br>
<br>
</div>
<hr width="100%" size="2">
<h3><a name="TOC-Set-your-editor"></a>Set your editor</h3>
<div>Many of the commands below (in particular&nbsp;<code style="color: rgb(0, 96, 0);">git</code><span>&nbsp;</span>and<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git cl</code>) open up an editor. You probably want to run one of the three commands below depending on your favorite editor.&nbsp; <br>
</div>
<br>
<div>If you're not a *nix expert,<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">nano</code><span>&nbsp;</span>is a reasonable editor:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">export EDITOR='nano'</code></div>
</div>
<br>
<div>If you love<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">vi</code>:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">export EDITOR='vi'</code></div>
</div>
<br>
<div>If you love<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">emacs</code><span>&nbsp;</span>(and don't want an XWindow to open up every time you do something):</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">export EDITOR='emacs -nw'</code></div>
</div>
<div><br>
</div>
<div>You should probably add one of those lines to your<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">.bashrc</code><span>&nbsp;</span>(or similar file) too.</div>
<div><br>
</div>
<hr width="100%" size="2">
<h3><a name="TOC-Submit-changes-locally"></a>Submit changes locally</h3>
<div>When your changes look good, commit them to your local branch using<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git</code>. Full documentation of how to use&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git</span>&nbsp;is
 beyond the scope of this guide, but you might be able to commit your 
changes by running something like the command below from the project 
directory:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">git commit -a</code></div>
</div>
<br>
<div>The&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git</span>&nbsp;commit
 command brings up a text editor. You should describe your changes, 
save, and exit the editor. Note that the description you provide is only
 for your own use. When you upload your changes for code review, the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git-cl</code><span>&nbsp;</span>command grabs all of your previous descriptions, and gives you a chance to edit them.</div>
<div><br>
</div>
<hr width="100%" size="2">
<a name="TOC-Upload-your-changes-and-get-a-code-"></a>
<h3><a name="TOC-Committers-only-Upload-your-changes"></a>(Committers only) Upload your changes and get a code review<br>
</h3>
<div>Once your changes are committed locally, upload your changes using&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git-cl</span>. The&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git-cl</span>&nbsp;command
 is very un-git-like. It takes all of the changes in your local branch, 
munges them into one patch, and uploads that to the code review server. 
You should run the command below outside the chroot, from within a 
directory that's part of the project you're working on:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">git cl upload</code></div>
</div>
<br>
<div><br>
The<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git cl upload</code><span>&nbsp;</span>command
 brings up a text editor. What you write here is important, since it 
will get sent to the code review server. The first line should be a 
short description of your changes. You can put more specific 
descriptions in subsequent lines. The text editor is also populated 
with&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">BUG=</span>&nbsp;and&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">TEST=</span>&nbsp;lines. &nbsp;</div>
<div><br>
</div>
<div><img src="developer-guide_files/TrackerName.png" style="display: inline; float: right; margin: 5px 10px;" width="320" height="85" border="0">For&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">BUG=</span>, you should put something that looks like:<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">BUG=bug-tracker:number</code>.
  You can get a tracker name by looking in the upper-left corner of the 
tracker page (e.g. in the image on the right, the tracker name is 
"chromium-os"). If your changes are related to more than one tracker 
issue, you can list all the issues separated with commas.</div>
<div><br>
</div>
<div>For&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0); line-height: 13px;">TEST=</span>, you should describe what you did to test the changes.</div>
<div><br>
</div>
<div>Here's what a sample description should look like:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div>
<div><code style="color: rgb(0, 96, 0);"># Enter a description of the change.</code></div>
<div><code style="color: rgb(0, 96, 0);"># This will displayed on the codereview site.</code></div>
<div><code style="color: rgb(0, 96, 0);"># The first line will also be used as the subject of the review.</code></div>
<div><code style="color: rgb(0, 96, 0);">Here's a SHORT, one-line summary of my change.</code></div>
<div><br>
</div>
<div><code style="color: rgb(0, 96, 0);">And here are more details</code></div>
<div><code style="color: rgb(0, 96, 0);">...this can be as long as I want.</code></div>
<div><br>
</div>
<div><code style="color: rgb(0, 96, 0);">BUG=chromium-os:99999, chromium:88888</code></div>
<div><code style="color: rgb(0, 96, 0);">TEST=Ran all the white box tests</code></div>
</div>
</div>
<br>
<div>Save your description and exit the editor. This uploads the changes
 and prints out a URL for the code review. Go to that URL (log in with 
your chromium.org account, which you might want to do in an "incognito" 
window in Chrome), and use the "<b>Publish+Mail</b>" link to mail your changes to your reviewers.</div>
<div><br>
</div>
<div>You should pick reviewers that know the code you're working on well
 and that will do the best reviews. Picking reviewers who will just 
rubber-stamp your changes is a bad idea. The point of submitting changes
 is to submit good code, not to submit as much code as you can. If you 
don't know who should review your changes, start by looking at the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git log</code><span>&nbsp;</span>for the project that you're working on. Simply type the command below in a directory related to your project:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">git log</code></div>
</div>
<div><br>
</div>
<div><br>
</div>
<div>Your reviewers will likely provide comments about changes that you 
should make before submitting your code. You should make such changes, 
submit them locally, and then re-upload your changes for code review. 
Note that<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git-cl</code><span>&nbsp;</span>stores the code review "issue number" as metadata on your&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git</span>&nbsp;branch. That means that each&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git</span>&nbsp;branch is associated with one and only one code review. If you do a second&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">git cl</span>&nbsp;upload on your branch, the command will amend your previous code review rather than start a new code review.</div>
<div><br>
</div>
<div>Eventually, all your reviewers will be happy and will tell you "LGTM" (looks good to me).</div>
<div><br>
</div>
<hr width="100%" size="2">
<h3><a name="TOC-Try-seeing-the-mainline-again"></a>Try seeing the mainline again</h3>
<div>While you're working on your changes, you might want to go back to 
the mainline for a little while (maybe you want to see if some bug you 
are seeing is related to your changes, or if the bug was always there). 
If you want to go back to the mainline without abandoning your changes, 
you can run the following command from within a directory associated 
with your project:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">git checkout cros/master</code></div>
</div>
<br>
<div>When you're done, you can get back to your changes by running:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">git checkout ${BRANCH_NAME}&nbsp;</code></div>
</div>
<br>
<hr width="100%" size="2">
<h3><a name="TOC-Work-on-something-else-while-you-re"></a>Work on something else while you're waiting</h3>
<div>If you want to start on another (unrelated) change while waiting for your code review, you can&nbsp;<code style="color: rgb(0, 96, 0);">repo start</code>&nbsp;another
 branch. When you want to get back to your first branch, run the 
following command from within a directory associated with your project:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">git checkout ${BRANCH_NAME}</code><code style="color: rgb(0, 96, 0);">&nbsp;</code></div>
</div>
<div><br>
</div>
<hr width="100%" size="2">
<h3><a name="TOC-Push-your-changes"></a>Push your changes</h3>
<div>Once you've iterated a few times and your code reviewers are happy 
(you get "Looks Good To Me" messages from all of them), you can make 
your changes go live by pushing them:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">git cl push</code></div>
</div>
<div><br>
</div>
You should probably do a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo sync</code><span>&nbsp;</span>before the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git cl push</code><span>&nbsp;</span>to make sure that nothing is broken. The<span> </span><code style="color: rgb(0, 96, 0);">repo sync</code><span> </span>command might cause a merge conflict. &nbsp;<font color="#ff0000">TODO: Add a short description of how to deal with merge conflicts?</font></div>
<div><br>
</div>
<div><b><font color="#e69138">IMPORTANT NOTE</font></b>: After you push your changes, make sure that you can be reached (by IM, phone, IRC, etc.) in case something is wrong. <b>DO NOT push your changes and then go to lunch or go home for the day!</b><br>
<div><div>
<br>
</div>
<hr width="100%" size="2">
<a name="TOC-Making-sure-your-change-didn-t-brea"></a>
<h3><a name="TOC-Make-sure-your-changes-didn-t-break"></a>Make sure your changes didn't break things</h3>
<div>After you commit, make sure you didn't break the build by checking the&nbsp;<a href="http://build.chromium.org/buildbot/chromiumos" style="color: rgb(0, 102, 204); outline-style: none;">buildbot</a>.<br>
<br>
</div>
</div>
<div>
<hr width="100%" size="2">
<a name="TOC-Submitting-changes-non-committers-"></a>
<h3><a name="TOC-Non-committers-Submit-your-changes"></a>(Non-committers) Submit your changes</h3>
</div>
<div>If you're not a committer, you must push your changes by submitting a patch to the&nbsp;the&nbsp;<a href="http://groups.google.com/group/chromium-os-dev" style="color: rgb(0, 102, 204); outline-style: none;">Chromium OS dev group</a>. &nbsp;</div>
<div><br>
</div>
<div><font color="#ff0000">TODO: Add instructions for generating this patch. You might want to see git-format-patch?<br>
<br>
</font></div>
<hr width="100%" size="2">
<a name="TOC-Cleaning-up-after-you-re-done-with-"></a>
<h3><a name="TOC-Clean-up-after-you-re-done-with-you"></a>Clean up after you're done with your changes</h3>
<div>After you're done with your changes, you're ready to clean up. The most important thing to do is to tell<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">cros_workon</font></code><span>&nbsp;</span>that you're done&nbsp;by running the following command from inside the&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">~/trunk/src/scripts</span>&nbsp;directory:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./cros_workon --board=${BOARD} stop ${PACKAGE_NAME}</font></code></div>
</div>
<div><br>
</div>
<div>This command tells <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">cros_workon</span>&nbsp;to stop forcing the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">-9999.ebuild</code><span>&nbsp;</span>and to stop forcing a build from source every time.</div>
<div><br>
</div>
<div>You can also delete the branch that repo created. There are a number of ways to do so; here is one way:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">repo abandon ${BRANCH_NAME} ${CROS_WORKON_PROJECT}</code></div>
</div>
<div><br>
</div>
<div><br>
</div>
<div><b>SIDE NOTES:</b><br>
<ul><li style="margin-top: 0.5em;">If you don't specify a project name, the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo abandon</code><span>&nbsp;</span>command will throw out any local changes across<span>&nbsp;</span><b>all projects</b>. You might also want to look at<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git branch -D</code><span>&nbsp;</span>or<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">repo prune</code>.</li>
<li style="margin-top: 0.5em;">If you're using the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">minilayout</code>, doing a&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">cros_workon stop</span>&nbsp;<b>will not</b> remove your source code. The code will continue to stay on your hard disk and get synced down.</li><li style="margin-top: 0.5em;">After you've pushed your changes, if for some reason you want to re-use 
the same branch for another code review, you can clear your completed 
code review with&nbsp;<code style="color: rgb(0, 96, 0);">git cl issue 0</code>.</li></ul>
</div><br><div>
<hr>
</div>
<div>
<hr width="100%" size="2">
<a name="TOC-Making-changes-to-something-other-t"></a>
<h2><a name="TOC-Making-other-types-of-changes"></a>Making other types of changes</h2>
</div>
<div>If you want to make to changes to something other than packages 
whose source is checked into the Chromium OS source control system, you 
can follow the instructions in the previous section, but skip the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);"><font color="#9900ff">cros_workon</font></code><span>&nbsp;</span>step. Note specifically that you still need to run<span> </span><code style="color: rgb(0, 96, 0);">repo start</code><span> </span>to <a href="http://dev.chromium.org/chromium-os/developer-guide#TOC-Create-a-branch-for-your-changes">create a branch for your changes</a>.</div>
<div><br>
</div>
<div>The types of changes that fall into this category include:<br>
</div>
<div>
<ul><li>changes to build scripts (pretty much anything in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">src/scripts</code>)</li>
<li>changes to<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">ebuild</code><span>&nbsp;</span>files themselves (like the ones under<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">src/third_party/chromiumos-overlay</code>)</li>
<li><font color="#ff0000">TODO: anything else?</font><br>
</li></ul>
<br>
</div>
<div><font color="#ff0000">
<hr>
</font></div>
<h3><a name="TOC-Making-changes-to-the-way-that-the-" style="color: rgb(0, 102, 204); outline-style: none;"></a>Making changes to the way that the chroot is constructed</h3>
<div><span style="color: rgb(255, 0, 0);">TODO:</span> <span style="color: rgb(255, 0, 0);">This section is currently a placeholder, waiting for someone to fill it in.</span> &nbsp;However, a few notes:</div>
<div>
<ul><li style="margin-top: 0.5em;">Many of the commands that take a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">--board=${BOARD}</code><span>&nbsp;</span>parameter also take a<span> </span><code style="color: rgb(0, 96, 0);">--host</code><span>&nbsp;</span>parameter, which makes the commands affect the host (i.e., the chroot) rather than the board.</li>
<ul><li style="margin-top: 0.3em;">Most notably,<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">cros_workon --host</code><span> </span>says that you want to build a package used in the chroot from source.</li></ul>
<li style="margin-top: 0.5em;">If you modify the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">make_chroot</code><span>&nbsp;</span>script,
 remember that most developers won't get your change for a long time. 
People tend to build their chroot once, then never again. The Chromium 
OS team is moving away from having the&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">make_chroot</span>&nbsp;script do much.</li></ul>
</div>
<div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Building-an-individual-package"></a>Building an individual package</h3>
<div><font color="#ff0000">TODO: Document this better, and add the new cros_workon_make.</font></div>
<div><br>
</div>
<div>
<div><span style="font-size: 16px;"><b><font size="3"><span style="font-size: 13px; font-weight: normal;">Note: To build an individual package use&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">emerge-${BOARD}</font></code>. For example, if you want to build dash to test on your device:</span></font></b></span></div>
<div>
<div><br>
</div>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">emerge-${BOARD} dash</font></code></div>
</div>
</div>
<div><br>
<br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Making-changes-to-the-Chromium-web-"></a>Making changes to the Chromium web browser on Chromium OS</h3>
<div>If you want to make modifications to the Chromium web browser and 
run your custom version of the Chromium web browser on Chromium OS, see <a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/building-chromium-browser" style="color: rgb(0, 102, 204); outline-style: none;">Making changes to the Chromium web browser on Chromium OS</a>.<br>
<br>
</div>
<div><br>
</div>
<hr width="100%" size="2">
<hr>
<h2><a name="TOC-Troubleshooting"></a>Troubleshooting</h2>
<br>
<div>
<hr>
</div>
<a name="TOC-My-build-is-failing-what-s-the-prob"></a>
<h3><a name="TOC-My-build-is-failing-what-s-the-prob"></a>My build is failing, what's the problem?</h3>
<div>
<div>Your build may break because of transient failures introduced when 
an upstream dependency is in-flight while your dependent is built. These
 types of failures are often manifested as missing files or 
configuration information. Try re-running your build.<br>
</div>
<div><br>
If re-running doesn't help,&nbsp;<a href="http://build.chromium.org/buildbot/chromiumos/" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">check the buildbot</a> to see if the problem exists there as well.</div>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<div>
<h3><a name="TOC-How-do-I-fix-network-problems-in-th"></a>How do I fix network problems in the chroot?</h3>
<div><font color="#ff0000">TODO: This troubleshooting tip was from the old instructions. &nbsp;Is it still relevant?</font></div>
<div><br>
</div>
<div>When running<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">emerge</code><span>&nbsp;</span>inside the chroot, the command uses<span> </span><code style="color: rgb(0, 96, 0);">wget</code><span>&nbsp;</span>to fetch packages. The <span style="font-family: monospace; color: rgb(0, 96, 0);">wget</span>&nbsp;process is run as the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">portage</code><span>&nbsp;</span>user,
 and if that user is unable to talk on the network the command will be 
unable to resolve hostnames, among other things. This can happen if the 
machine is using a local firewall service such as UncomplicatedFireWall (<code style="color: rgb(0, 96, 0);">ufw</code><span>&nbsp;</span>package on Ubuntu) that limits network traffic to a specific set of users.</div>
<div><br>
</div>
<div>This network traffic limitation can be verified by looking at the output of iptables, for example with&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">ufw</span>:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">$ sudo iptables -L ufw-after-output | grep owner</code></div>
<div><code style="color: rgb(0, 96, 0);">ACCEPT &nbsp; &nbsp; all 
&nbsp;-- &nbsp;anywhere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
anywhere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;owner UID match root</code></div>
<div><code style="color: rgb(0, 96, 0);">ACCEPT &nbsp; &nbsp; all 
&nbsp;-- &nbsp;anywhere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
anywhere &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;owner UID match 
yourname</code></div>
</div>
<div><br>
</div>
<div>One way to get around this limitation is to add the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">portage</code><span>&nbsp;</span>user to the list of allowed users:<br>
<br>
First, create the user on the build machine:</div>
<div><br>
</div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);">sudo useradd -d /var/tmp/portage -N -s /bin/false portage</code></div>
</div>
<div><br>
</div>
<div>Then add the user to the list of allowed users in<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">/etc/ufw/after.rules</code> and <code style="color: rgb(0, 96, 0);">/etc/ufw/after6.rules</code>:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"># allow outbound connections by portage user for building chromiumos</code></div>
<div><code style="color: rgb(0, 96, 0);">-A ufw-after-output -m owner --uid-owner portage -j ACCEPT</code></div>
</div>
<div><br>
</div>
<div>Finally, restart the firewall:</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);">sudo restart ufw</code></div>
</div>
<br>
<br>
<hr>
<hr>
<h2><a name="TOC-Running-Tests"></a>Running Tests</h2>
<div>Many of the automated tests that are part of the Chromium OS project run using the autotest framework. &nbsp;<font color="#ff0000">TODO: add more details</font>.
 &nbsp;In order to run the autotests on your Chromium OS machine (or 
virtual machine), you must use an image that has been modified for test.
 &nbsp;</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Getting-an-image-that-has-been-modi"></a>Getting an image that has been modified for test</h3><div><font color="#ff0000">This doesn't work if you want to create a recovery image and boot a Cr48 with it, see below</font></div><div><br></div>
<div>The easiest way to get an image that has been modified for testing is to add the <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--test_image</span> flag to either <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_vm.sh</span> or <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span>, like so:</div>
<div>
<div><br>
</div>
<div>
<div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_usb.sh --board=${BOARD} --test_image --to=${MY_USB_KEY_LOCATION}</font></code></div>
</div>
</div>
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff"><br>
</font></code></div>
<div>...or...</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_vm.sh&nbsp;--board=${BOARD}</font></code><span style="font-family: monospace; color: rgb(153, 0, 255);">&nbsp;--test_image&nbsp;</span></div>
</div>
<br>
<div>The&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">--test_image</span>&nbsp;flag causes the<span>&nbsp;</span><span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_xxx</span>&nbsp;commands to make a copy of your&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">chromiumos_image.bin</span>&nbsp;file called&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">chromiumos_test_image.bin</span>&nbsp;(if
 that file doesn't already exist), modify that image for test, and use 
the test image as the source of the command. &nbsp;</div>
<div>
</div>
<div><br>
</div>
<div><b>SIDE NOTES:<br>
</b>
<ul><li style="margin-top: 0.5em;">When creating a VM image for testing purposes, it is highly recommended that you expand its stateful partition with the&nbsp;<code style="color: rgb(0, 96, 0);"><font color="#9900ff">--statefulfs_size</font></code>&nbsp;parameter.
 Otherwise, certain autotest scenarios will run out of stateful 
partition disk space since its default size on ChromeOS image files is 
equal to rootfs size of 2G. <font color="#ff0000">TODO: Is this still needed? &nbsp;I don't think so now that the default stateful size is 2G.</font></li>
<li style="margin-top: 0.5em;">If the directory already has a file called&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">chromiumos_test_image.bin</span>, that file is reused. That means that calling both <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_usb.sh</span> and <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">image_to_vm.sh</span> doesn't waste time by creating the test image twice.</li>
<li style="margin-top: 0.5em;">If you are so inclined, you can call the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">mod_image_for_test.sh</font></code> script directly. That causes the script, by default, to <b>modify</b> your existing <span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">chromiumos_image.bin</span>
 for test. There is no good reason to do this, unless you are low on 
disk space and know that you won't ever need the non-modified image.</li></ul>
</div>
</div>
<div><div><br><hr></div><h3><a name="TOC-Getting-an-image-that-has-been-modi" style="color: rgb(0, 102, 204); outline-style: none;"></a>Creating a recovery image that has been modified for test</h3><div>After building your usual image, you need to create a test version of it. &nbsp;By default <font color="#9900ff" face="'courier new', monospace">mod_image_for_test.sh</font> blows away your existing image, you <i>probably</i> don't want that <font color="#ff0000">but see below</font>, so we copy it first.</div><div><br></div><div><div><div><div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><span style="color: rgb(153, 0, 255); font-family: monospace;">cp ~/trunk/src/build/images/${BOARD}/latest/chromiumos_image.bin \<br>&nbsp;&nbsp; &nbsp;~/trunk/src/build/images/${BOARD}/latest/chromiumos_test_image.bin</span></div><div><br></div><div>Now we can modify that to turn it into an actual test image:</div><br><div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><span style="color: rgb(153, 0, 255); font-family: monospace;">./mod_image_for_test.sh \<br>&nbsp;&nbsp; &nbsp;--board=${BOARD} \<br></span><span style="color: rgb(153, 0, 255); font-family: monospace;">&nbsp;&nbsp; &nbsp;--image ~/trunk/src/build/images/${BOARD}/latest/chromiumos_test_image.bin</span></div></div></div></div><div><br></div>And this test image can be into a recovery image, again being careful not to overwrite the non-test variety:</div><div><br><div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><span style="color: rgb(153, 0, 255); font-family: monospace;"><span style="font-family: Arial,Verdana,sans-serif; color: rgb(0, 0, 0);"><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./mod_image_for_recovery.sh \</font></code></div><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--board=${BOARD} \</font></code></div><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--nominimize_image \</font></code></div><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--kernel_image ${RECOVERY_KERNEL} \</font></code></div><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">&nbsp;&nbsp; &nbsp;--image ~/trunk/src/build/images/${BOARD}/latest/chromiumos_test_image.bin \<br>&nbsp;&nbsp; &nbsp;--to ~/trunk/src/build/images/${BOARD}/latest/recovery_test_image.bin</font></code></div></span></span></div><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff"><br></font></code></div>Finally to write out to the USB device:</div><div><br></div><div><div><div><div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;"><code style="color: rgb(0, 96, 0);"><font color="#9900ff">./image_to_usb.sh --board=${BOARD} --image_name=recovery_test_image.bin --to=${MY_USB_KEY_LOCATION}</font></code></div></div></div></div><div><code style="color: rgb(0, 96, 0);"><font color="#9900ff"><br></font></code></div>So this seems ideal, since it matches the <font color="#9900ff" face="'courier new', monospace">image_to_usb.sh</font> method, however there's a <b>downside</b> to this approach which you should keep in mind.</div><div><ul><li>Your USB image will be a recovery mode/test image, but the ordinary image in your directory will be a non-test image.</li><li>If you use devserver, this will serve the non-test image not the test-image.</li><li>This means a machine installed with a test-enabled USB image will update to a non-test-enabled one.</li></ul></div><div><div>
<hr>
</div>
<div>
<h3><a name="TOC-Creating-a-new-test"></a>Creating a new test</h3>
<div><font color="#ff0000">TODO: Validate that these instructions are still right. &nbsp;They were copied from an old instructions page.</font></div>
<div><br>
</div>
<div>To create a new test, follow these steps:</div>
<div>
<ol style="list-style-type: decimal;"><li>Create the source inside<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">git</code><span>&nbsp;</span>repository R.</li>
<li>Find out which ebuild builds test from repository R. If R is a new repository, create a new ebuild for it (see below).</li>
<li>Edit the ebuild, and add<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">tests_${testname}</code><span>&nbsp;</span>into the<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">IUSE_TESTS</code><span>&nbsp;</span>variable. Prefix your test with a<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">+</code><span>&nbsp;</span>if you want it to be enabled by default.</li>
<li>Recompile (see modifying a test), make sure it runs, commit, etc.</li>
</ol>
</div>
<div>To create a new ebuild, you must use the autotest eclass, which 
wraps all the necessary steps to compile your tests. If you are starting
 a new repository with tests, you may have to create a new ebuild. 
Please refer to existing ebuilds for details.</div>
<div><br>
</div>
<div>If you create a new ebuild for test X, you must run<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">cros_workon start X</code>. Mysterious failures mode will occur otherwise.</div>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<h3><a name="TOC-Seeing-which-tests-are-implemented-"></a>Seeing which tests are implemented by an ebuild</h3>
<div><span style="color: rgb(255, 0, 0);">TODO: Validate that these instructions are still right. &nbsp;They were copied from an old instructions page.</span></div>
<div><font color="#ff0000"><br>
</font></div>
<div>Run the command below and look at the "<code style="color: rgb(0, 96, 0);">USE=</code>" output. The command tells&nbsp;<code style="color: rgb(0, 96, 0);">emerge</code><span>&nbsp;</span>to "pretend" to build the tests and print out verbose output. Replace&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255); line-height: 13px;">${EBUILD_NAME}</span>&nbsp;with the name of an<span>&nbsp;</span><code style="color: rgb(0, 96, 0);">ebuild</code><span>&nbsp;</span>containing tests (see just below), like&nbsp;<span style="font-family: monospace; color: rgb(153, 0, 255);">autotest-tests</span>.</div>
<div><br>
</div>
<div class="sites-codeblock sites-codesnippet-block" style="background-color: rgb(239, 239, 239); border: 1px solid rgb(211, 211, 211); display: block; padding: 0.5em 0px 0.5em 1em; line-height: 13px;">
<div><code style="color: rgb(0, 96, 0);"><font color="#9900ff">emerge-${BOARD} -pv ${EBUILD_NAME}</font></code></div>
</div>
<br>
<div>The only&nbsp;<span style="font-family: monospace; color: rgb(0, 96, 0);">ebuilds</span>&nbsp;containing tests are:</div>
<div>
<ul><li><code style="color: rgb(0, 96, 0);">chromeos-base/autotest-tests</code><span>&nbsp;</span>- the default set of tests, that did not fall anywhere else</li>
<li><code style="color: rgb(0, 96, 0);">chromeos-base/chromeos-chrome</code><span>&nbsp;</span>- chrome tests; the tests that are part of chrome</li></ul>
</div>
<div><br>
</div>
<div>
<hr>
</div>
<a name="TOC-More-testing-tips"></a>
<h3><a name="TOC-Additional-testing-information"></a>Additional testing information</h3>
<div>The document <a href="http://dev.chromium.org/running-smoke-suite-on-a-vm-image" style="color: rgb(0, 102, 204); outline-style: none;">Running Smoke Suite On a VM Image</a> contains the most up-to-date information about autotests.<br>
<font color="#ff0000">TODO: It would be nice if some of that information migrated here?</font></div>
<div><br>
</div>
<br>
<hr width="100%" size="2">
</div>
<div>
<div>
<hr>
</div>
<a name="TOC-Other-notes" style="color: rgb(0, 102, 204); outline-style: none;"></a>
<h2><a name="TOC-Additional-information1"></a>Additional information</h2>
<br>
</div>
<div>
<hr width="100%" size="2">
<h3><a name="TOC-Developer-mode" style="color: rgb(0, 102, 204); outline-style: none;"></a>Developer mode</h3>
<div>It can be confusing to figure out what "developer mode" means: Some
 parts of this document talk about switching your hardware to developer 
mode, while other parts talk about entering developer mode by running an
 image built with the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--withdev</font></code>
 flag. For the most part, the two actions enable the same set of things 
(like the shell command in crosh). Thus, you can think of either action 
as enabling developer mode.</div>
<div><br>
</div>
<div>To provide some details:<br>
<ul><li style="margin-top: 0.5em;">Putting your hardware into developer mode makes <code style="color: rgb(153, 0, 0);">/bin/cros_boot_mode</code> print <code style="color: rgb(153, 0, 0);">developer</code>. It also makes the file<span style="color: rgb(153, 0, 0);"> </span><code style="color: rgb(153, 0, 0);">/mnt/stateful_partition/.developer_mode</code> appear.
</li>
<li style="margin-top: 0.5em;">Building with the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--withdev</font></code> flag creates a file called <code style="color: rgb(153, 0, 0);">/root/.dev_mode</code>&nbsp;(in addition to adding a whole bunch of useful developer tools to your stateful partition). The presence of the<span style="color: rgb(153, 0, 0);"> </span><span style="font-family: monospace; color: rgb(153, 0, 0);">/root/.dev_mode</span>
 file enables developer mode and also prevents wiping of the stateful 
partition when you switch your hardware between developer mode and 
release mode.<br>
</li></ul>
</div>
<div>
<br>
</div>
<a name="TOC-1"></a>
<hr width="100%" size="2">
<h3><a name="TOC-Attribution-requirements"></a>Attribution requirements</h3>
When you produce a Chromium OS image, you need to fulfill various 
attribution requirements of third party licenses. Currently, the images 
generated by a build don't do this for you automatically. You must 
modify <a href="http://src.chromium.org/svn/trunk/src/chrome/browser/resources/about_os_credits.html" target="_blank">~/chromium/src/chrome/browser/resources/about_os_credits.html</a>.
<br>
<br>
</div>
</div>
<div>
<div>
<hr>
<a name="TOC-More-reading"></a>
<h3><a name="TOC-Documentation-on-this-site"></a>Documentation on this site</h3>
<div>You now understand the basics of building, running, modifying, and 
testing Chromium OS, but you've still got a lot to learn. Here are links
 to a few other pages on the chromium.org site that you are likely to 
find helpful (somewhat ordered by relevance):</div>
<div>
<ul><li style="margin-top: 0.3em;">The <a href="http://dev.chromium.org/tips-and-tricks-for-chromium-os-developers" name="TOC-Tips-and-Tricks" style="color: rgb(0, 102, 204); outline-style: none;">Tips And Tricks for Chromium OS Developers</a> page has a lot of useful information to help you optimize your workflow.</li>
<li style="margin-top: 0.3em;">If you haven't read the page about the<span>&nbsp;</span><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/using-the-dev-server" style="color: rgb(0, 102, 204); outline-style: none;">devserver</a><span>&nbsp;</span>already, read it now.</li>
<li style="margin-top: 0.3em;">Learn about the Chromium OS&nbsp;<a href="http://dev.chromium.org/chromium-os/building-chromium-os/directory-structure" style="color: rgb(0, 102, 204); outline-style: none;">directory structure</a>.</li>
<li style="margin-top: 0.3em;"><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/developer-faq" style="color: rgb(0, 102, 204); outline-style: none;">The Chromium OS developer FAQ</a><span>&nbsp;</span>might have useful info. &nbsp;<font color="#ff0000">TODO: Double-check that the FAQ is still accurate, and resolve it with this page.</font></li>
<li style="margin-top: 0.3em;"><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/portage-build-faq" style="color: rgb(0, 102, 204); outline-style: none;">The Chromium OS portage build FAQ</a><span>&nbsp;</span>might also have useful info. &nbsp;<span style="color: rgb(255, 0, 0);">TODO: Double-check that the FAQ is still accurate, and resolve it with this page.</span></li>
<li style="margin-top: 0.3em;">&nbsp;If you have questions about the <code style="color: rgb(0, 96, 0);"><font color="#9900ff">--noenable_rootfs_verification</font></code> option, you might find answers on this <a href="https://groups.google.com/a/chromium.org/group/chromium-os-dev/browse_thread/thread/967e783e27dd3a9d/0fa20a1547de2c77?lnk=gst" style="color: rgb(0, 102, 204); outline-style: none;">thread on chromium-os-dev</a>.</li>
<li style="margin-top: 0.3em;"><a href="http://dev.chromium.org/running-smoke-suite-on-a-vm-image" style="color: rgb(0, 102, 204); outline-style: none;">Running Smoke Suite on a VM Image</a> has good information about how to get up and running with autotest tests and VMs.</li>
<li style="margin-top: 0.3em;"><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/debugging-tips" style="color: rgb(0, 102, 204); outline-style: none;">Debugging Tips</a><span> </span>contains information about how to debug the Chromium browser on your Chromium OS device. &nbsp;<font color="#ff0000">TODO: Validate that the instructions are still accurate.</font></li>
<li style="margin-top: 0.3em;"><a name="TOC-Working-on-a-branch"></a><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/working-on-a-branch">Working on a Branch</a> has tips for working on branches.<br>
</li><li style="margin-top: 0.3em;"><a href="http://dev.chromium.org/chromium-os/how-tos-and-troubleshooting/git-server-side-information">Git server-side information</a> talks about adding new git repositories.</li>
</ul>
</div>
<div><br>
<hr width="100%" size="2">
<h3><a name="TOC-External-documentation"></a>External documentation</h3>
Below are a few links to external sites that you might also find helpful (somewhat ordered by relevance):</div>
<div>
<ul><li style="margin-top: 0.3em;"><b>Definitely</b>&nbsp;look at the&nbsp;<a href="http://groups.google.com/group/chromium-os-dev" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Chromium OS dev group</a>&nbsp;to see what people are talking about.</li>
<li style="margin-top: 0.3em;">Check out the&nbsp;<a href="http://code.google.com/p/chromium-os/issues/list" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Chromium OS bug tracker</a>&nbsp;to report bugs, look for known issues, or look for things to fix.</li>
<li style="margin-top: 0.3em;">Get an idea of what's actively happening by looking at the<span>&nbsp;</span><a href="http://codereview.chromium.org/" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Chromium Code Reviews</a><span>&nbsp;</span>site. (Note that this is the combined site for both Chromium and Chromium OS.)</li>
<li style="margin-top: 0.3em;">Browse the source code on the&nbsp;<a href="http://git.chromium.org/gitweb/" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Chromium OS gitweb</a>.</li>
<li style="margin-top: 0.3em;">Check the current status of the builds by looking at the<span>&nbsp;</span><a href="http://build.chromium.org/p/chromiumos/waterfall" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Chromium OS build waterfall</a>.</li>
<li style="margin-top: 0.3em;">Check out the<span>&nbsp;</span><a href="http://webchat.freenode.net/?channels=chromium-os" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">#chromium-os channel</a> on freenode.net (this is the IRC channel that Chromium OS developers like to hang out on).</li>
<li style="margin-top: 0.3em;">If you're learning git, check out&nbsp;<a href="http://www.google.com/url?q=http%3A%2F%2Feagain.net%2Farticles%2Fgit-for-computer-scientists%2F&amp;sa=D&amp;sntz=1&amp;usg=AFrqEzcOLmdu1_j4wvdnWaUkgTNwig-zxg" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Git for Computer Scientists</a>,&nbsp;<a href="http://www.google.com/url?q=http%3A%2F%2Fwww-cs-students.stanford.edu%2F%257Eblynn%2Fgitmagic%2F&amp;sa=D&amp;sntz=1&amp;usg=AFrqEzd0LcYKlFSHeWlQzalvRlf4sTBLiA" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Git Magic</a>, or the&nbsp;<a href="http://www.google.com/url?q=http%3A%2F%2Fwww.kernel.org%2Fpub%2Fsoftware%2Fscm%2Fgit%2Fdocs%2Fuser-manual.html&amp;sa=D&amp;sntz=1&amp;usg=AFrqEzfv8SPESPQ4stacQ08cvUzlMXbbKA" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">Git Manual</a>.</li>
<li style="margin-top: 0.3em;"><a href="http://devmanual.gentoo.org/" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">The Gentoo Development Guide</a>&nbsp;might be useful for&nbsp;<font color="#ff0000">(TODO: short description)</font></li>
<li style="margin-top: 0.3em;"><a href="http://www.gentoo.org/proj/en/base/embedded/handbook/" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">The Gentoo Embedded Handbook</a><span>&nbsp;</span>might be useful for<span>&nbsp;</span><font color="#ff0000">(TODO: short description)</font></li>
<li style="margin-top: 0.3em;"><a href="http://www.gentoo.org/proj/en/base/embedded/handbook/" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">The Gentoo Cross Development Guide</a>&nbsp;might be useful for&nbsp;<font color="#ff0000">(TODO: short description)</font></li>
<li style="margin-top: 0.3em;"><a href="http://en.gentoo-wiki.com/wiki/Crossdev" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">The Gentoo Wiki on Cross-Compiling</a>&nbsp;might be useful for&nbsp;<font color="#ff0000">(TODO: short description)</font></li>
<li style="margin-top: 0.3em;"><a href="http://www.gentoo.org/proj/en/qa/pms.xml" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">The Gentoo Package Manager Specification</a>&nbsp;might be useful for&nbsp;<font color="#ff0000">(TODO: short description)</font></li>
<li style="margin-top: 0.3em;"><font color="#ff0000"><span style="color: rgb(0, 0, 0);">The</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);"><a href="http://source.android.com/source/git-repo.html" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">repo man page</a></span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);">might help you if you're curious about repo. Or you can go straight to the</span><span style="color: rgb(0, 0, 0);">&nbsp;</span><span style="color: rgb(0, 0, 0);"><a href="http://android.git.kernel.org/?p=tools/repo.git;a=summary" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank" rel="nofollow">repo source code</a></span><span style="color: rgb(0, 0, 0);">.</span></font></li>
<li style="margin-top: 0.3em;"><font color="#ff0000"><span style="color: rgb(0, 0, 0);">The<span>&nbsp;</span><a href="http://groups.google.com/group/repo-discuss?hl=en" style="color: rgb(0, 102, 204); outline-style: none;" target="_blank">repo-discuss group</a><span> </span>is a good place to talk about repo.</span></font></li></ul>
</div>
<div><br>
</div>
<br>
</div>
</div>
</div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-subpages" class="sites-canvas-bottom-panel-wrapper" style="">
<div class="sites-subpages">
            Subpages <span id="subpages-total-number">(1):</span>
<span>
<a href="http://dev.chromium.org/chromium-os/developer-guide/chromite-shell-quick-start" dir="ltr">
                      
                          Chromite guide
                        
                    </a>
</span>
</div>
</div>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-attachments" style="display: none;" class="sites-canvas-bottom-no-items">
<div id="sites-attachment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div jotid="sites-attachment-inner" style="display: none;" class="sites-attachment-inner">
<ul id="JOT_ATTACH_container">
</ul>
</div>
</div>
</div>
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments" style="display: none;" class="sites-canvas-bottom-no-items">
<div id="sites-comment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div jotid="sites-comment-inner" style="display: none;" class="sites-comment-inner">
<div jotid="comments" class="sites-comments">
<div id="_wuid_" jotid="template" class="sites-comment" style="display: none;">
<div><strong>_displayNameOrEmail_</strong> - _time_ - <a href="javascript:;" onclick="JOT_postEvent('removeComment', this, {wuid:'_wuid_'});">Remove</a></div>
<p dir="_dir_">_text_</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div> 
</td> 
</tr>
</tbody></table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter">
<p>
           
              
                  &nbsp;
                  <a href="https://www.google.com/a/UniversalLogin?service=jotspot&amp;continue=http://sites.google.com/a/chromium.org/dev/chromium-os/developer-guide&amp;md=chromium.org" class="sites-system-link">Sign in</a>
                
              
                  &nbsp;
                  <a href="http://dev.chromium.org/system/app/pages/recentChanges" rel="nofollow" class="sites-system-link">Recent Site Activity</a>
                
              
              &nbsp;
              <a href="javascript:void(window.open('http://www.google.com/sites/help/intl/en/terms_apps.html'))" class="sites-system-link">Terms</a>
              &nbsp;
              <a href="http://dev.chromium.org/system/app/pages/reportAbuse?src=/chromium-os/developer-guide" rel="nofollow" target="_blank" class="sites-system-link">Report Abuse</a>
              
                  &nbsp;
                  <a href="javascript:;" onclick="window.open(webspace.printUrl)" class="sites-system-link">Print page</a>
                
              
              &nbsp;|&nbsp;
                
              <b class="powered-by">Powered by <a href="http://sites.google.com/">Google Sites</a></b>
</p>
</div>
</div> 

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="developer-guide_files/jot_min_view__en.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml">
  if (editorResources) {
    //<![CDATA[
editorResources.unshift('/system/app/css/overlay.css?cb=beigeandblueundefineda100%25%25150goog-ws-left');
editorResources.unshift('/_/rsrc/1294959796000/system/app/themes/beigeandblue/standard-css-beigeandblue-ltr-ltr.css');
//]]>

  }
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
          var searchBox = new gsites.Searchbox('sites-searchbox-search-button');
          searchBox.initListeners();
          searchBox.setScopesMenu(webspace.page.isSiteRtlLocale);
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createHoverPopupMenu('sites-header-nav-dropdown');
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("7648876402527094", "Navigation", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_7648876402527094');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("14720868319272995", "Quick links", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_14720868319272995');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("19690813310444355", "Other sites", false);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_19690813310444355');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      
                      window.jstiming.report(loadTimer, {}, 'http://csi.gstatic.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
            webspace, "en");
        maestroRunner.initListeners();
        maestroRunner.installEditRender();
      </script>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        window['ri240jef82'] =
          {'domain': 'chromium.org',
           'site': 'dev',
           'pageId': 0};
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();

    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }
 //]]>
</script>
<div id="server-timer-div" style="display: none;"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>
</body></html>